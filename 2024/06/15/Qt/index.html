<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Qt笔记 | 上世纪國男</title><meta name="author" content="zenfy"><meta name="copyright" content="zenfy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Qt-上世纪國男做毕设的时候疯狂学Qt，笔记留着以后温故而知新。 1.Qt介绍Qt（官方发音 [kju:t]，音同 cute）是一个跨平台的 C++ 开发库，主要用来开发图形用户界面（Graphical User Interface，GUI）程序，当然也可以开发不带界面的命令行（Command User Interface，CUI）程序。 Qt 是纯 C++ 开发的，所以学好 C++ 非常有必要，">
<meta property="og:type" content="article">
<meta property="og:title" content="Qt笔记">
<meta property="og:url" content="https://zenfy0326.github.io/2024/06/15/Qt/index.html">
<meta property="og:site_name" content="上世纪國男">
<meta property="og:description" content="Qt-上世纪國男做毕设的时候疯狂学Qt，笔记留着以后温故而知新。 1.Qt介绍Qt（官方发音 [kju:t]，音同 cute）是一个跨平台的 C++ 开发库，主要用来开发图形用户界面（Graphical User Interface，GUI）程序，当然也可以开发不带界面的命令行（Command User Interface，CUI）程序。 Qt 是纯 C++ 开发的，所以学好 C++ 非常有必要，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://picture.gptkong.com/20240618/16527145e5c86d419092d0637b2069c668.png">
<meta property="article:published_time" content="2024-06-15T08:48:24.000Z">
<meta property="article:modified_time" content="2024-06-23T08:50:17.930Z">
<meta property="article:author" content="zenfy">
<meta property="article:tag" content="C++">
<meta property="article:tag" content="Qt">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://picture.gptkong.com/20240618/16527145e5c86d419092d0637b2069c668.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://zenfy0326.github.io/2024/06/15/Qt/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":2,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Qt笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-06-23 16:50:17'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://picture.gptkong.com/20240618/16527145e5c86d419092d0637b2069c668.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐推荐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影推荐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 自我介绍</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://picture.gptkong.com/20240616/175612b05166054e8084a654b2ecb19244.png')"><nav id="nav"><span id="blog-info"><a href="/" title="上世纪國男"><span class="site-name">上世纪國男</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐推荐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影推荐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 自我介绍</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Qt笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-06-15T08:48:24.000Z" title="发表于 2024-06-15 16:48:24">2024-06-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-06-23T08:50:17.930Z" title="更新于 2024-06-23 16:50:17">2024-06-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C/">C++</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C/Qt/">Qt</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Qt-上世纪國男"><a href="#Qt-上世纪國男" class="headerlink" title="Qt-上世纪國男"></a>Qt-上世纪國男</h1><p>做毕设的时候疯狂学Qt，笔记留着以后温故而知新。</p>
<h2 id="1-Qt介绍"><a href="#1-Qt介绍" class="headerlink" title="1.Qt介绍"></a>1.Qt介绍</h2><p>Qt（官方发音 [kju:t]，音同 cute）是一个跨平台的 C++ 开发库，主要用来开发图形用户界面（Graphical User Interface，GUI）程序，当然也可以开发不带界面的命令行（Command User Interface，CUI）程序。</p>
<p>Qt 是纯 C++ 开发的，所以学好 C++ 非常有必要，Qt 还存在 Python、Ruby、Perl 等脚本语言的绑定， 也就是说可以使用脚本语言开发基于 Qt 的程序。开源社区就是这样，好东西就会被派生扩展，到处使用， 越来越壮大。</p>
<p>Qt 支持的操作系统有很多，例如通用操作系统 Windows、Linux、Unix，智能手机系统 Android、iOS、WinPhone， 嵌入式系统 QNX、VxWorks 。</p>
<h2 id="Qt-可以做什么？"><a href="#Qt-可以做什么？" class="headerlink" title="Qt 可以做什么？"></a>Qt 可以做什么？</h2><p>Qt 经常被当做一个 GUI 库，用来开发图形界面应用程序，但这并不是 Qt 的全部；Qt 除了可以绘制漂亮的界面（包括控件、布局、交互），还包含很多其它功能，比如多线程、访问数据库、图像处理、音频视频处理、网络通信、文件操作等，这些 Qt 都已经内置了。</p>
<p>总起来说，Qt 主要用于<strong>桌面程序开发</strong>和嵌入式开发。</p>
<h2 id="2-为什么用Qt？"><a href="#2-为什么用Qt？" class="headerlink" title="2.为什么用Qt？"></a>2.为什么用Qt？</h2><p>用 Qt 来开发 Windows 桌面程序有以下优点：</p>
<ul>
<li>简单易学：Qt 封装的很好，几行代码就可以开发出一个简单的客户端，不需要了解 Windows API。</li>
<li>资料丰富：资料丰富能够成倍降低学习成本，否则你只能去看源码，关于 DirectUI、Htmlayout、aardio 的资料就很少。</li>
<li>漂亮的界面：Qt 很容易做出漂亮的界面和炫酷的动画，而 MFC、WTL、wxWidgets 比较麻烦。</li>
<li>独立安装：Qt 程序最终会编译为本地代码，不需要其他库的支撑，而 Java 要安装虚拟机，C# 要安装 .NET Framework。</li>
<li>跨平台：如果你的程序需要运行在多个平台下，同时又希望降低开发成本，Qt 几乎是必备的。</li>
</ul>
<h2 id="3-Qt-Creator"><a href="#3-Qt-Creator" class="headerlink" title="3.Qt Creator"></a>3.Qt Creator</h2><p>Qt是开源的库 Qt Creator是一个集成开发环境</p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/n58OskK1ldmelCnRXPgOCg">安装文档教程</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1r54y1G7m4/">安装视频教程</a></p>
<h2 id="安装之后添加组件"><a href="#安装之后添加组件" class="headerlink" title="安装之后添加组件"></a>安装之后添加组件</h2><p>1，找到Qt安装目录中的维护工具MaintenanceTool.exe</p>
<p>2，添加国内源</p>
<p>手动添加储存库要定位一个储存有****QT在线安装镜像的地址****，这可难坏我了，但是经过不懈努力还是被我找到了（网址：<a target="_blank" rel="noopener" href="http://download.qt.io/static/mirrorlist/%EF%BC%89%E8%BF%99%E4%B8%AA%E7%BD%91%E7%AB%99%EF%BC%8C%E6%98%BE%E7%A4%BA%E4%BA%86%E5%90%84%E5%9B%BD%E7%9A%84qt%E9%95%9C%E5%83%8F%E7%AB%99%E7%82%B9%EF%BC%8C%E4%B8%AD%E5%9B%BD%E6%9C%89%E5%9B%9B%E4%B8%AA%EF%BC%8C%E6%88%91%E7%94%A8%E7%9A%84%E6%98%AF%E4%B8%AD%E7%A7%91%E5%A4%A7%E7%9A%84%E7%AB%99%EF%BC%8C%E7%82%B9%E5%87%BBHTTP%E4%BC%9A%E8%BF%9B%E5%85%A5%E4%B8%80%E4%B8%AA%E7%BD%91%E7%BB%9C%E6%96%87%E4%BB%B6%E5%A4%B9%E3%80%82">http://download.qt.io/static/mirrorlist/）这个网站，显示了各国的qt镜像站点，中国有四个，我用的是中科大的站，点击HTTP会进入一个网络文件夹。</a></p>
<p><a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/qtproject/online/qtsdkrepository/windows_x86/root/qt/">Index of &#x2F;qtproject&#x2F;online&#x2F;qtsdkrepository&#x2F;windows_x86&#x2F;root&#x2F;qt&#x2F; (ustc.edu.cn)</a></p>
<p><img src="F:/C++/QT%20%E9%A1%BD%E7%9F%B3/01%20%E5%85%A5%E9%97%A8/assets/image-20211118010214312.png" alt="image-20211118010214312"></p>
<p>然后依次进入&#x2F;online&#x2F;qtsdkrepository&#x2F;windows_x86&#x2F;root&#x2F;qt&#x2F; 最终的文件夹显示如下，在这个界面<strong>复制一下当前地址框地址</strong>到临时存储库。</p>
<h2 id="编码问题"><a href="#编码问题" class="headerlink" title="编码问题"></a>编码问题</h2><p>Qt Creator是跨平台的 Qt IDE， Qt Creator 是 Qt 被 Nokia收购后推出的一款新的轻量级集成开发环境（IDE）。此 IDE 能够跨平台运行，支持的系统包括 Linux（32 位及 64 位）、Mac OS X 以及 Windows。</p>
<ul>
<li><font color="red">使用QtCreator创建的项目目录中不能包含中文和空格</font></li>
<li><font color="red">QtCreator默认使用Utf8格式编码对文件字符进行编码</font></li>
</ul>
<p>修改Qt Creator文件编码：菜单栏-&gt;工具-&gt;选项-&gt;文本编辑器-&gt;行为-&gt;文件编码</p>
<h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><ul>
<li>选择项目模板（没写的，其他的都默认就行）</li>
</ul>
<p>选择Qt widgets Application</p>
<ul>
<li>填写项目名称和选择路径(<font color="red">不能包含中文和空格<del>不能包含中文和空格</del>不能包含中文和空格~</font>)</li>
<li>选择窗口类信息</li>
<li>选择编译套件(用Qt Creator开发请选择MinGW <code>Minimalist GNU for Windows</code>)</li>
</ul>
<h2 id="项目文件"><a href="#项目文件" class="headerlink" title="项目文件"></a>项目文件</h2><h3 id="main-cpp"><a href="#main-cpp" class="headerlink" title="main.cpp"></a>main.cpp</h3><blockquote>
<p>主函数所在的文件</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span>				<span class="comment">//生成的窗口类头文件</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QApplication&gt;</span>			<span class="comment">//引用程序类头文件</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//创建应用程序对象, 在一个Qt项目中实例对象有且仅有一个</span></span><br><span class="line">    <span class="comment">// 类的作用: 检测触发的事件, 进行事件循环并处理</span></span><br><span class="line">    <span class="function">QApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;	</span><br><span class="line">    <span class="comment">//创建窗口对象</span></span><br><span class="line">    Widget w;</span><br><span class="line">    <span class="comment">//显示窗口</span></span><br><span class="line">    w.<span class="built_in">show</span>();</span><br><span class="line">    <span class="comment">//应用程序对象开始事件循环，保证应用程序不退出</span></span><br><span class="line">    <span class="keyword">return</span> a.<span class="built_in">exec</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="widget-h"><a href="#widget-h" class="headerlink" title="widget.h"></a>widget.h</h3><blockquote>
<p>窗口类头文件</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> WIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> WIDGET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWidget&gt;</span>			<span class="comment">//Qt标准窗口类头文件</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span> : <span class="keyword">public</span> QWidget	<span class="comment">//自己的类继承自Qwidget类</span></span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT					<span class="comment">//使用信号与槽机制，必须包含该宏</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Widget</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Widget</span>();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// WIDGET_H</span></span></span><br></pre></td></tr></table></figure>



<h3 id="widget-cpp"><a href="#widget-cpp" class="headerlink" title="widget.cpp"></a>widget.cpp</h3><blockquote>
<p>窗口类源文件</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">Widget::<span class="built_in">Widget</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget::~<span class="built_in">Widget</span>()</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="HelloQt-pro"><a href="#HelloQt-pro" class="headerlink" title="HelloQt.pro"></a>HelloQt.pro</h3><blockquote>
<p>Qt项目文件，注释需要用#号</p>
</blockquote>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#项目编译时需要加载哪些模块</span></span><br><span class="line"><span class="attr">QT</span>       <span class="string">+= core gui</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># 如果当前Qt版本大于4, 要添加一个额外的模块: widgets</span></span><br><span class="line"><span class="comment"># Qt 5中对gui模块进行了拆分, 将 widgets 独立出来了</span></span><br><span class="line"><span class="attr">greaterThan(QT_MAJOR_VERSION,</span> <span class="string">4): QT += widgets</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># 让Qt支持c++11标准</span></span><br><span class="line"><span class="attr">CONFIG</span> <span class="string">+= c++11</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#如果您使用任何已标记为不推荐使用的Qt功能，则以下定义使您的编译器发出警告（确切的警告取决于您的编译器）。 </span></span><br><span class="line"><span class="comment">#请参考不推荐使用的API的文档，以了解如何将您的代码移植远离它。</span></span><br><span class="line"><span class="attr">DEFINES</span> <span class="string">+= QT_DEPRECATED_WARNINGS</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#如果使用过时的API，您还可以使代码无法编译。</span></span><br><span class="line"><span class="comment">#为此，请取消注释以下行。</span></span><br><span class="line"><span class="comment">#您也可以选择仅在特定版本的Qt之前禁用已弃用的API。</span></span><br><span class="line"><span class="comment">#DEFINES + = QT_DISABLE_DEPRECATED_BEFORE = 0x060000    ＃禁用所有在Qt 6.0.0之前弃用的API</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># 项目中的源文件	删除后，项目里不会显示所有的源文件</span></span><br><span class="line"><span class="attr">SOURCES</span> <span class="string">+= \</span></span><br><span class="line"><span class="string">    main.cpp \</span></span><br><span class="line"><span class="string">    widget.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># 项目中的头文件</span></span><br><span class="line"><span class="attr">HEADERS</span> <span class="string">+= \</span></span><br><span class="line"><span class="string">    widget.h</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#部署的默认规则</span></span><br><span class="line"><span class="attr">qnx</span>: <span class="string">target.path = /tmp/$$&#123;TARGET&#125;/bin					#嵌入式</span></span><br><span class="line"><span class="attr">else</span>: <span class="string">unix:!android: target.path = /opt/$$&#123;TARGET&#125;/bin	#unix</span></span><br><span class="line"><span class="comment">!isEmpty(target.path): INSTALLS += target</span></span><br></pre></td></tr></table></figure>

<p>pro是Qt的工程文件，这个文件是给qmake用来生成Makefile用的。</p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h2 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h2><ul>
<li>运行     Ctrl + r</li>
<li>编译     Ctrl + b</li>
<li>注释     Ctrl + &#x2F;</li>
<li>字体缩放 Ctrl + 鼠标滚轮</li>
<li>查找&#x2F;替换 Ctrl + f</li>
<li>整行移动   Ctrl + Shift + ↑ 或 ↓</li>
<li>自动对齐   Ctrl + i</li>
<li>帮助文档<ul>
<li>第一种：Qt Creator 直接查看   F1</li>
<li>第二种：打开独立的帮助文档程序  assistant</li>
</ul>
</li>
<li>同名.h 和 .cpp 之间的切换  F4</li>
<li>快速添加函数的定义  Alt + Enter      <span style="font-size:15px"><code>鼠标移动到函数申明上</code></span></li>
<li>修改变量名，并应用到所有用到该变量的地方  Ctrl + Shift +r</li>
<li>快速打开输出窗口 Alt + 数字键(1-8)</li>
<li>书签功能,即在某行代码处进行标记,方便以后找到。书签也可以添加文字标注。<ul>
<li>按Ctrl + M   添加&#x2F;删除书签</li>
<li>按Ctrl + .     查找并移动到下一个标签</li>
</ul>
</li>
</ul>
<h2 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h2><p>萝卜白菜各有所爱，如何修改QtCreator的主题呢？</p>
<p><code>菜单栏-&gt;工具-&gt;选项-&gt;文本编辑器</code></p>
<p>个人喜欢黑色的</p>
<p>上面是选择系统自带的，当然也可以自己配置一个，我这配置了一个Vs白色主题的。</p>
<ul>
<li>xml文件 <code>Visual studio white(Qt creator代码样式).xml</code></li>
<li>把该文件复制到Qt的安装目录下的-&gt;Qt\Qt5.14.2\Tools\QtCreator\share\qtcreator\styles目录中</li>
<li>最后进入文本编辑器选择</li>
</ul>
<p>4.Qt+VS2019+Bug</p>
<p>用VS写Qt程序很舒服滴~！</p>
<h3 id="1-打开VS"><a href="#1-打开VS" class="headerlink" title="1.打开VS"></a>1.打开VS</h3><p>选择菜单栏-&gt;扩展-&gt;管理扩展</p>
<h3 id="2-VS安装Qt插件"><a href="#2-VS安装Qt插件" class="headerlink" title="2.VS安装Qt插件"></a>2.VS安装Qt插件</h3><p>选择菜单栏的 扩展-&gt;管理扩展，输入Qt搜索，然后下载Qt Visual Studio Tools（下载灰常的银杏，慢的死~还不一定能下载）</p>
<p><strong>如果实在不能忍受这龟速，就用别的办法</strong></p>
<p>先到Qt官网下载对于版本的插件，我这里是Vs2019：</p>
<p><a target="_blank" rel="noopener" href="https://download.qt.io/official_releases/vsaddin/">Qt官网插件下载</a></p>
<p><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items">微软拓展商店下载</a></p>
<p>选择清华大学镜像源下载即可。</p>
<h3 id="3-安装VSIX-即上面下载的那个插件"><a href="#3-安装VSIX-即上面下载的那个插件" class="headerlink" title="3.安装VSIX(即上面下载的那个插件)"></a>3.安装VSIX(即上面下载的那个插件)</h3><p>如果是通过Vs下载的，会自动安装。</p>
<p>如果是手动下载的，需要双击自己安装。</p>
<p>打开安装包之后，点击Install等待安装完成即可。</p>
<p>安装之前，请先关掉Vs<code>没有关掉会出现如下界面，点击end tasks即可</code></p>
<p>关闭Vs之后，一秒安装完成</p>
<p>安装完成，关掉程序</p>
<h3 id="4-设置插件"><a href="#4-设置插件" class="headerlink" title="4.设置插件"></a>4.设置插件</h3><p>再次打开Vs，扩展-&gt;Qt VS Tools-&gt;Qt Options</p>
<p>点击Qt Options之后会弹出界面</p>
<p>首先删掉自动配置好的路径，然后点击Add自己添加一个，如下是具体的路径选项，选择msvc2017_64文件夹，点击确定即可</p>
<p>然后点击OK</p>
<h3 id="5-VS创建Qt项目"><a href="#5-VS创建Qt项目" class="headerlink" title="5.VS创建Qt项目"></a>5.VS创建Qt项目</h3><p>在Vs中点击新建项目，搜索Qt找到Qt Widgets Application然后点击下一步。</p>
<p>下一步之后，给项目取名称</p>
<p>点击创建，</p>
<p>然后从Debug和Release模式里选择一个即可(默认即可)</p>
<p>然后点击完成就ok啦。</p>
<h3 id="6，中文乱码"><a href="#6，中文乱码" class="headerlink" title="6，中文乱码"></a>6，中文乱码</h3><p>由于windows默认的编码方式为GB2312，而Qt使用的是Unicode，两种编码方式不一样导致了乱码产生。</p>
<p>我们需要把代码文件改为utf-8保存，可以手动修改，也可以借助插件自动修改。</p>
<h4 id="1，手动修改"><a href="#1，手动修改" class="headerlink" title="1，手动修改"></a>1，手动修改</h4><p>VS隐藏了高级保存功能，导致没办法直接去设置代码编码。那么我们直接把高级保存功能调用出来即可：</p>
<ol>
<li><p>单击“工具”|“自定义”命令，弹出“自定义”对话框。</p>
</li>
<li><p>单击“命令”标签，进入“命令”选项卡；在“菜单栏”下拉列表中，选择“文件”选项；单击“添加命令”按钮，弹出“添加命令”对话框。</p>
</li>
<li><p>在“类别”列表中，选择“文件”选项；在“命令”列表中，选择“高级保存选项”选项。 单击“确定”。</p>
<img src="F:/C++/QT%20%E9%A1%BD%E7%9F%B3/01%20%E5%85%A5%E9%97%A8/assets/image-20210504163713084.png" alt="image-20210504163713084" style="zoom:67%;" /></li>
</ol>
<p>…这个操作还是比较麻烦，使用下面的自动修改是最方便的</p>
<h4 id="2，自动修改"><a href="#2，自动修改" class="headerlink" title="2，自动修改"></a>2，自动修改</h4><p>打开 VS2017，依次点击 工具 -&gt; 扩展和更新，搜索插件 “ForceUTF8”，安装后源码文件会强制保存为带 BOM 的 UTF-8。</p>
<p><img src="F:/C++/QT%20%E9%A1%BD%E7%9F%B3/01%20%E5%85%A5%E9%97%A8/assets/image-20210504162322942.png" alt="image-20210504162322942"></p>
<p><strong>注意：</strong><font color=red>修改之后，写C&#x2F;C++代码会出现乱码，此时再进到插件-&gt;已安装吧Force UTF-8禁用掉，然后重启Vs即可</font></p>
<p><img src="F:/C++/QT%20%E9%A1%BD%E7%9F%B3/01%20%E5%85%A5%E9%97%A8/assets/image-20210504162639221.png" alt="image-20210504162639221"></p>
<h3 id="7，Vs中修改应用程序图标"><a href="#7，Vs中修改应用程序图标" class="headerlink" title="7，Vs中修改应用程序图标"></a>7，Vs中修改应用程序图标</h3><ul>
<li><p>1，备好一个.ico图标文件</p>
</li>
<li><p>2，创建一个.rc文件(创建txt修改后缀即可)，然后加入以下代码</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IDI_ICON1 <span class="attribute">ICON</span> DISCARDABLE &quot;zay<span class="selector-class">.ico</span>&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>3，将.rc文件和.ico文件都放在项目的文件夹中</p>
</li>
<li><p>在VS中右击Source File筛选器选择<strong>添加</strong>||<strong>现有项</strong>，将<strong>logo.rc</strong>和<strong>zay.ico</strong>文件添加到项目中，重新生成即可</p>
</li>
</ul>
<h2 id="Qt-Creator-MSVC"><a href="#Qt-Creator-MSVC" class="headerlink" title="Qt Creator + MSVC"></a>Qt Creator + MSVC</h2><p>先安装好Qt Creator和visual studio，前者做编辑器，用后者的编译器，最后安装一个调试器。</p>
<p>通过<a target="_blank" rel="noopener" href="https://developer.microsoft.com/zh-cn/windows/downloads/windows-sdk/">windows SDK</a>工具安装调试器(CDB)。</p>
<p>下载之后安装即可</p>
<p>安装完成之后重新打开Qt Creator，会自动检测调试工具的路径。</p>
<p>安装Vs之后，编译器也会自动检测到</p>
<p>最后需要自己选择一下，对应版本的编译器和调试器x64和x86都可以配置。</p>
<h2 id="中文"><a href="#中文" class="headerlink" title="中文"></a>中文</h2><p>如果出现乱码可以在.pro文件中加入以下代码</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">msvc</span><br><span class="line">&#123;</span><br><span class="line">	QMAKE_CFLAGS += /utf-<span class="number">8</span>	<span class="selector-id">#C</span>语言编译器选项</span><br><span class="line">	QMAKE_CXXFLAGS+=/utf-<span class="number">8</span>	<span class="selector-id">#C</span>++编译器选项</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="Qt用我经常用的C-编写"><a href="#Qt用我经常用的C-编写" class="headerlink" title="Qt用我经常用的C++编写"></a>Qt用我经常用的C++编写</h1><p>C++语言看C++.md即可</p>
<h2 id="1-log输出"><a href="#1-log输出" class="headerlink" title="1. log输出"></a>1. log输出</h2><blockquote>
<p>在Qt中进行log输出, 一般不使用c中的<code>printf</code>, 也不是使用C++中的<code>cout</code>, Qt框架提供了专门用于日志输出的类, 头文件名为 <code>QDebug</code>。</p>
</blockquote>
<p><strong>基本分类</strong></p>
<ul>
<li>qDebug：调试信息提示</li>
<li>qInfo     ：输出信息</li>
<li>qWarning ：一般的警告提示</li>
<li>qCritical ：严重的错误提示</li>
<li>qFatal ：致命错误提示，会直接中断程序</li>
</ul>
<p><strong>C风格输出</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">qDebug</span>(<span class="string">&quot;我是%s，今年%d岁了~&quot;</span>,<span class="string">&quot;maye&quot;</span>,<span class="number">20</span>);</span><br><span class="line"><span class="built_in">qInfo</span>(<span class="string">&quot;maye%d&quot;</span>,<span class="number">666</span>);</span><br><span class="line"><span class="built_in">qWarning</span>(<span class="string">&quot;hello %s&quot;</span>,<span class="string">&quot;warning&quot;</span>);</span><br><span class="line"><span class="built_in">qCritical</span>(<span class="string">&quot;helo %s&quot;</span>,<span class="string">&quot;critical&quot;</span>);</span><br><span class="line"><span class="built_in">qFatal</span>(<span class="string">&quot;hello %s&quot;</span>,<span class="string">&quot;qFatal&quot;</span>);		<span class="comment">//致命错误会直接中断程序</span></span><br></pre></td></tr></table></figure>

<p><strong>C++风格</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;好帅&quot;</span>&lt;&lt;endl;</span><br><span class="line"><span class="built_in">qInfo</span>()&lt;&lt;<span class="string">&quot;qInfo&quot;</span>&lt;&lt;endl;</span><br><span class="line"><span class="built_in">qWarning</span>()&lt;&lt;<span class="string">&quot;qWarnning&quot;</span>&lt;&lt;endl;</span><br><span class="line"><span class="built_in">qCritical</span>()&lt;&lt;<span class="string">&quot;qCritical&quot;</span>&lt;&lt;endl;</span><br><span class="line">#<span class="built_in">qFatal</span>()&lt;&lt;<span class="string">&quot;qFatal&quot;</span>&lt;&lt;endl;			<span class="comment">//致命错误不能用&lt;&lt;输出</span></span><br></pre></td></tr></table></figure>





<h2 id="2-字符串类型"><a href="#2-字符串类型" class="headerlink" title="2. 字符串类型"></a>2. 字符串类型</h2><blockquote>
<p>C     &#x3D;&gt; <code>char*</code></p>
<p>C++ &#x3D;&gt; <code>std::string</code></p>
<p>Qt	&#x3D;&gt; <code>QByteArray</code>, <code>QString</code></p>
</blockquote>
<h3 id="2-1-QByteArray"><a href="#2-1-QByteArray" class="headerlink" title="2.1 QByteArray"></a>2.1 QByteArray</h3><blockquote>
<p>在Qt中<code>QByteArray</code>可以看做是C语言中 <code>char*</code>的升级版本。我们在使用这种类型的时候可通过这个类的构造函数申请一块动态内存，用于存储我们需要处理的字符串数据。</p>
<p>下面给大家介绍一下这个类中常用的一些API函数，<code>大家要养成遇到问题主动查询帮助文档的好习惯</code></p>
</blockquote>
<ul>
<li><p>构造函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造空对象, 里边没有数据</span></span><br><span class="line">QByteArray::<span class="built_in">QByteArray</span>();</span><br><span class="line"><span class="comment">// 将data中的size个字符进行构造, 得到一个字节数组对象</span></span><br><span class="line"><span class="comment">// 如果 size==-1 函数内部自动计算字符串长度, 计算方式为: strlen(data)</span></span><br><span class="line">QByteArray::<span class="built_in">QByteArray</span>(<span class="type">const</span> <span class="type">char</span> *data, <span class="type">int</span> size = <span class="number">-1</span>);</span><br><span class="line"><span class="comment">// 构造一个长度为size个字节, 并且每个字节值都为ch的字节数组</span></span><br><span class="line">QByteArray::<span class="built_in">QByteArray</span>(<span class="type">int</span> size, <span class="type">char</span> ch);</span><br><span class="line"></span><br></pre></td></tr></table></figure>


</li>
<li><p>数据操作</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 其他重载的同名函数可参考Qt帮助文档, 此处略</span></span><br><span class="line"><span class="function">QByteArray &amp;<span class="title">QByteArray::append</span><span class="params">(<span class="type">const</span> QByteArray &amp;ba)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QByteArray::push_back</span><span class="params">(<span class="type">const</span> QByteArray &amp;other)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 其他重载的同名函数可参考Qt帮助文档, 此处略</span></span><br><span class="line"><span class="function">QByteArray &amp;<span class="title">QByteArray::prepend</span><span class="params">(<span class="type">const</span> QByteArray &amp;ba)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QByteArray::push_front</span><span class="params">(<span class="type">const</span> QByteArray &amp;other)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 插入数据, 将ba插入到数组第 i 个字节的位置(从0开始)</span></span><br><span class="line"><span class="comment">// 其他重载的同名函数可参考Qt帮助文档, 此处略</span></span><br><span class="line"><span class="function">QByteArray &amp;<span class="title">QByteArray::insert</span><span class="params">(<span class="type">int</span> i, <span class="type">const</span> QByteArray &amp;ba)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除数据</span></span><br><span class="line"><span class="comment">// 从大字符串中删除len个字符, 从第pos个字符的位置开始删除</span></span><br><span class="line"><span class="function">QByteArray &amp;<span class="title">QByteArray::remove</span><span class="params">(<span class="type">int</span> pos, <span class="type">int</span> len)</span></span>;</span><br><span class="line"><span class="comment">// 从字符数组的尾部删除 n 个字节</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QByteArray::chop</span><span class="params">(<span class="type">int</span> n)</span></span>;</span><br><span class="line"><span class="comment">// 从字节数组的 pos 位置将数组截断 (前边部分留下, 后边部分被删除)</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QByteArray::truncate</span><span class="params">(<span class="type">int</span> pos)</span></span>;</span><br><span class="line"><span class="comment">// 将对象中的数据清空, 使其为null</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QByteArray::clear</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串替换</span></span><br><span class="line"><span class="comment">// 将字节数组中的 子字符串 before 替换为 after</span></span><br><span class="line"><span class="comment">// 其他重载的同名函数可参考Qt帮助文档, 此处略</span></span><br><span class="line"><span class="function">QByteArray &amp;<span class="title">QByteArray::replace</span><span class="params">(<span class="type">const</span> QByteArray &amp;before, <span class="type">const</span> QByteArray &amp;after)</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>子字符串查找和判断</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 判断字节数组中是否包含子字符串 ba, 包含返回true, 否则返回false</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QByteArray::contains</span><span class="params">(<span class="type">const</span> QByteArray &amp;ba)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QByteArray::contains</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *ba)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 判断字节数组中是否包含子字符 ch, 包含返回true, 否则返回false</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QByteArray::contains</span><span class="params">(<span class="type">char</span> ch)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断字节数组是否以字符串 ba 开始, 是返回true, 不是返回false</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QByteArray::startsWith</span><span class="params">(<span class="type">const</span> QByteArray &amp;ba)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QByteArray::startsWith</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *ba)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 判断字节数组是否以字符 ch 开始, 是返回true, 不是返回false</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QByteArray::startsWith</span><span class="params">(<span class="type">char</span> ch)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断字节数组是否以字符串 ba 结尾, 是返回true, 不是返回false</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QByteArray::endsWith</span><span class="params">(<span class="type">const</span> QByteArray &amp;ba)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QByteArray::endsWith</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *ba)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 判断字节数组是否以字符 ch 结尾, 是返回true, 不是返回false</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QByteArray::endsWith</span><span class="params">(<span class="type">char</span> ch)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


</li>
<li><p>遍历</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用迭代器</span></span><br><span class="line"><span class="function">iterator <span class="title">QByteArray::begin</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">iterator <span class="title">QByteArray::end</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用数组的方式进行遍历</span></span><br><span class="line"><span class="comment">// i的取值范围 0 &lt;= i &lt; size()</span></span><br><span class="line"><span class="function"><span class="type">char</span> <span class="title">QByteArray::at</span><span class="params">(<span class="type">int</span> i)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="type">char</span> QByteArray::<span class="keyword">operator</span>[](<span class="type">int</span> i) <span class="type">const</span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


</li>
<li><p>查看字节数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回字节数组对象中字符的个数</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QByteArray::length</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QByteArray::size</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QByteArray::count</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回字节数组对象中 子字符串ba 出现的次数</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QByteArray::count</span><span class="params">(<span class="type">const</span> QByteArray &amp;ba)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QByteArray::count</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *ba)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 返回字节数组对象中 字符串ch 出现的次数</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QByteArray::count</span><span class="params">(<span class="type">char</span> ch)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>类型转换</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将QByteArray类型的字符串 转换为 char* 类型</span></span><br><span class="line"><span class="function"><span class="type">char</span> *<span class="title">QByteArray::data</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">const</span> <span class="type">char</span> *<span class="title">QByteArray::data</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// int, short, long, float, double -&gt; QByteArray</span></span><br><span class="line"><span class="comment">// 其他重载的同名函数可参考Qt帮助文档, 此处略</span></span><br><span class="line"><span class="function">QByteArray &amp;<span class="title">QByteArray::setNum</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> base = <span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">QByteArray &amp;<span class="title">QByteArray::setNum</span><span class="params">(<span class="type">short</span> n, <span class="type">int</span> base = <span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">QByteArray &amp;<span class="title">QByteArray::setNum</span><span class="params">(qlonglong n, <span class="type">int</span> base = <span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">QByteArray &amp;<span class="title">QByteArray::setNum</span><span class="params">(<span class="type">float</span> n, <span class="type">char</span> f = <span class="string">&#x27;g&#x27;</span>, <span class="type">int</span> prec = <span class="number">6</span>)</span></span>;</span><br><span class="line"><span class="function">QByteArray &amp;<span class="title">QByteArray::setNum</span><span class="params">(<span class="type">double</span> n, <span class="type">char</span> f = <span class="string">&#x27;g&#x27;</span>, <span class="type">int</span> prec = <span class="number">6</span>)</span></span>;</span><br><span class="line">[<span class="type">static</span>] <span class="function">QByteArray <span class="title">QByteArray::number</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> base = <span class="number">10</span>)</span></span>;</span><br><span class="line">[<span class="type">static</span>] <span class="function">QByteArray <span class="title">QByteArray::number</span><span class="params">(qlonglong n, <span class="type">int</span> base = <span class="number">10</span>)</span></span>;</span><br><span class="line">[<span class="type">static</span>] <span class="function">QByteArray <span class="title">QByteArray::number</span><span class="params">(<span class="type">double</span> n, <span class="type">char</span> f = <span class="string">&#x27;g&#x27;</span>, <span class="type">int</span> prec = <span class="number">6</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// QByteArray -&gt; int, short, long, float, double</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QByteArray::toInt</span><span class="params">(<span class="type">bool</span> *ok = Q_NULLPTR, <span class="type">int</span> base = <span class="number">10</span>)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">short</span> <span class="title">QByteArray::toShort</span><span class="params">(<span class="type">bool</span> *ok = Q_NULLPTR, <span class="type">int</span> base = <span class="number">10</span>)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">long</span> <span class="title">QByteArray::toLong</span><span class="params">(<span class="type">bool</span> *ok = Q_NULLPTR, <span class="type">int</span> base = <span class="number">10</span>)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">QByteArray::toFloat</span><span class="params">(<span class="type">bool</span> *ok = Q_NULLPTR)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">QByteArray::toDouble</span><span class="params">(<span class="type">bool</span> *ok = Q_NULLPTR)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// std::string -&gt; QByteArray</span></span><br><span class="line">[<span class="type">static</span>] <span class="function">QByteArray <span class="title">QByteArray::fromStdString</span><span class="params">(<span class="type">const</span> std::string &amp;str)</span></span>;</span><br><span class="line"><span class="comment">// QByteArray -&gt; std::string</span></span><br><span class="line"><span class="function">std::string <span class="title">QByteArray::toStdString</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 所有字符转换为大写</span></span><br><span class="line"><span class="function">QByteArray <span class="title">QByteArray::toUpper</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 所有字符转换为小写</span></span><br><span class="line"><span class="function">QByteArray <span class="title">QByteArray::toLower</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-2-QString"><a href="#2-2-QString" class="headerlink" title="2.2 QString"></a>2.2 QString</h3><blockquote>
<p>QString也是封装了字符串, 但是内部的编码为<code>utf8</code>, UTF-8属于Unicode字符集, 它固定使用多个字节（window为2字节, linux为3字节）来表示一个字符，这样可以将世界上几乎所有语言的常用字符收录其中。</p>
<p>下面给大家介绍一下这个类中常用的一些API函数。</p>
</blockquote>
<h3 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造一个空字符串对象</span></span><br><span class="line"><span class="built_in">QString</span>();</span><br><span class="line"><span class="comment">// 将 char* 字符串 转换为 QString 类型</span></span><br><span class="line"><span class="built_in">QString</span>(<span class="type">const</span> <span class="type">char</span> *str);</span><br><span class="line"><span class="comment">// 将 QByteArray 转换为 QString 类型</span></span><br><span class="line"><span class="built_in">QString</span>(<span class="type">const</span> QByteArray &amp;ba);</span><br><span class="line"><span class="comment">// 其他重载的同名构造函数可参考Qt帮助文档, 此处略</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="数据操作"><a href="#数据操作" class="headerlink" title="数据操作"></a>数据操作</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 尾部追加数据</span></span><br><span class="line"><span class="function">QString&amp; <span class="title">append</span><span class="params">(<span class="type">const</span> QString &amp;str)</span></span>;</span><br><span class="line"><span class="function">QString&amp; <span class="title">append</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *str)</span></span>;</span><br><span class="line"><span class="function">QString&amp; <span class="title">append</span><span class="params">(<span class="type">const</span> QByteArray &amp;ba)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_back</span><span class="params">(<span class="type">const</span> QString &amp;other)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 头部添加数据</span></span><br><span class="line"><span class="function">QString&amp; <span class="title">prepend</span><span class="params">(<span class="type">const</span> QString &amp;str)</span></span>;</span><br><span class="line"><span class="function">QString&amp; <span class="title">prepend</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *str)</span></span>;</span><br><span class="line"><span class="function">QString&amp; <span class="title">prepend</span><span class="params">(<span class="type">const</span> QByteArray &amp;ba)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QString::push_front</span><span class="params">(<span class="type">const</span> QString &amp;other)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 插入数据, 将 str 插入到字符串第 position 个字符的位置(从0开始)</span></span><br><span class="line"><span class="function">QString&amp; <span class="title">insert</span><span class="params">(<span class="type">int</span> position, <span class="type">const</span> QString &amp;str)</span></span>;</span><br><span class="line"><span class="function">QString&amp; <span class="title">insert</span><span class="params">(<span class="type">int</span> position, <span class="type">const</span> <span class="type">char</span> *str)</span></span>;</span><br><span class="line"><span class="function">QString&amp; <span class="title">insert</span><span class="params">(<span class="type">int</span> position, <span class="type">const</span> QByteArray &amp;str)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除数据</span></span><br><span class="line"><span class="comment">// 从大字符串中删除len个字符, 从第pos个字符的位置开始删除</span></span><br><span class="line"><span class="function">QString&amp; <span class="title">remove</span><span class="params">(<span class="type">int</span> position, <span class="type">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从字符串的尾部删除 n 个字符</span></span><br><span class="line"><span class="function"><span class="type">void</span>  <span class="title">chop</span><span class="params">(<span class="type">int</span> n)</span></span>;</span><br><span class="line"><span class="comment">// 从字节串的 position 位置将字符串截断 (前边部分留下, 后边部分被删除)</span></span><br><span class="line"><span class="function"><span class="type">void</span>  <span class="title">truncate</span><span class="params">(<span class="type">int</span> position)</span></span>;</span><br><span class="line"><span class="comment">// 将对象中的数据清空, 使其为null</span></span><br><span class="line"><span class="function"><span class="type">void</span>  <span class="title">clear</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串替换</span></span><br><span class="line"><span class="comment">// 将字节数组中的 子字符串 before 替换为 after</span></span><br><span class="line"><span class="comment">// 参数 cs 为是否区分大小写, 默认区分大小写</span></span><br><span class="line"><span class="function">QString&amp; <span class="title">replace</span><span class="params">(<span class="type">const</span> QString &amp;before, <span class="type">const</span> QString &amp;after, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="子字符串查找和判断"><a href="#子字符串查找和判断" class="headerlink" title="子字符串查找和判断"></a>子字符串查找和判断</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 参数 cs 为是否区分大小写, 默认区分大小写</span></span><br><span class="line"><span class="comment">// 其他重载的同名函数可参考Qt帮助文档, 此处略</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断字符串中是否包含子字符串 str, 包含返回true, 否则返回false</span></span><br><span class="line"><span class="function"><span class="type">bool</span>  <span class="title">contains</span><span class="params">(<span class="type">const</span> QString &amp;str, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断字符串是否以字符串 ba 开始, 是返回true, 不是返回false</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">startsWith</span><span class="params">(<span class="type">const</span> QString &amp;s, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断字符串是否以字符串 ba 结尾, 是返回true, 不是返回false</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">endsWith</span><span class="params">(<span class="type">const</span> QString &amp;s, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用迭代器</span></span><br><span class="line"><span class="function">iterator  <span class="title">begin</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">iterator  <span class="title">end</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用数组的方式进行遍历</span></span><br><span class="line"><span class="function"><span class="type">const</span> QChar  <span class="title">at</span><span class="params">(<span class="type">int</span> position)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> QChar  <span class="keyword">operator</span>[]<span class="params">(<span class="type">int</span> position)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="查看字节数"><a href="#查看字节数" class="headerlink" title="查看字节数"></a>查看字节数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回字节数组对象中字符的个数</span></span><br><span class="line"><span class="function"><span class="type">int</span>  <span class="title">length</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span>  <span class="title">size</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span>  <span class="title">count</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回字节串对象中 子字符串 str 出现的次数</span></span><br><span class="line"><span class="comment">// 参数 cs 为是否区分大小写, 默认区分大小写</span></span><br><span class="line"><span class="function"><span class="type">int</span>  <span class="title">count</span><span class="params">(<span class="type">const</span> QStringRef &amp;str, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// int, short, long, float, double -&gt; QString</span></span><br><span class="line"><span class="comment">// 其他重载的同名函数可参考Qt帮助文档, 此处略</span></span><br><span class="line"><span class="function">QString&amp; <span class="title">setNum</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> base = <span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">QString&amp; <span class="title">setNum</span><span class="params">(<span class="type">short</span> n, <span class="type">int</span> base = <span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">QString&amp; <span class="title">setNum</span><span class="params">(<span class="type">long</span> n, <span class="type">int</span> base = <span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="function">QString&amp; <span class="title">setNum</span><span class="params">(<span class="type">float</span> n, <span class="type">char</span> format = <span class="string">&#x27;g&#x27;</span>, <span class="type">int</span> precision = <span class="number">6</span>)</span></span>;</span><br><span class="line"><span class="function">QString&amp;<span class="title">QString::setNum</span><span class="params">(<span class="type">double</span> n, <span class="type">char</span> format = <span class="string">&#x27;g&#x27;</span>, <span class="type">int</span> precision = <span class="number">6</span>)</span></span>;</span><br><span class="line">[<span class="type">static</span>] <span class="function">QString <span class="title">QString::number</span><span class="params">(<span class="type">long</span> n, <span class="type">int</span> base = <span class="number">10</span>)</span></span>;</span><br><span class="line">[<span class="type">static</span>] <span class="function">QString <span class="title">QString::number</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> base = <span class="number">10</span>)</span></span>;</span><br><span class="line">[<span class="type">static</span>] <span class="function">QString <span class="title">QString::number</span><span class="params">(<span class="type">double</span> n, <span class="type">char</span> format = <span class="string">&#x27;g&#x27;</span>, <span class="type">int</span> precision = <span class="number">6</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// QString -&gt; int, short, long, float, double</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QString::toInt</span><span class="params">(<span class="type">bool</span> *ok = Q_NULLPTR, <span class="type">int</span> base = <span class="number">10</span>)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">short</span> <span class="title">QString::toShort</span><span class="params">(<span class="type">bool</span> *ok = Q_NULLPTR, <span class="type">int</span> base = <span class="number">10</span>)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">long</span> <span class="title">QString::toLong</span><span class="params">(<span class="type">bool</span> *ok = Q_NULLPTR, <span class="type">int</span> base = <span class="number">10</span>)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">QString::toFloat</span><span class="params">(<span class="type">bool</span> *ok = Q_NULLPTR)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">QString::toDouble</span><span class="params">(<span class="type">bool</span> *ok = Q_NULLPTR)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 所有字符转换为大写</span></span><br><span class="line"><span class="function">QString <span class="title">QString::toUpper</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 所有字符转换为小写</span></span><br><span class="line"><span class="function">QString <span class="title">QString::toLower</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="字符串格式化"><a href="#字符串格式化" class="headerlink" title="字符串格式化"></a>字符串格式化</h3><p>C语言中有sprintf()函数，QString也提供了一个asprintf()函数。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QString res =  QString::<span class="built_in">asprintf</span>(<span class="string">&quot;fileName:%s size:%d&quot;</span>,<span class="string">&quot;./av.jpg&quot;</span>,<span class="number">20</span>);</span><br><span class="line"><span class="built_in">qDebug</span>()&lt;&lt;res&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>不过QString还提供的另一种格式化字符串输出的函数arg()，更为方便。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QString <span class="title">arg</span><span class="params">(<span class="type">const</span> QString &amp;a, <span class="type">int</span> fieldWidth = <span class="number">0</span>, QChar fillChar = QLatin1Char( <span class="string">&#x27; &#x27;</span> ))</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function">QString <span class="title">arg</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> fieldWidth = <span class="number">0</span>, <span class="type">int</span> base = <span class="number">10</span>, QChar fillChar = QLatin1Char( <span class="string">&#x27; &#x27;</span> ))</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">//用于填充字符串中的%1,%2…为给定格式的整形数字，其中第一个参数是要填充的数字，第二个参数为最小宽度，第三个参数为进制，第四个参数为当原始数字长度不足最小宽度时用于填充的字符</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例程序</span></span><br><span class="line">QString str =  <span class="built_in">QString</span>(<span class="string">&quot;%1 %2 %3&quot;</span>).<span class="built_in">arg</span>(<span class="number">1</span>).<span class="built_in">arg</span>(<span class="number">2</span>);</span><br><span class="line">str = str.<span class="built_in">arg</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="built_in">qDebug</span>()&lt;&lt;str&lt;&lt;endl;     <span class="comment">//&quot;hello 2 1&quot;</span></span><br><span class="line"></span><br><span class="line">QString text = <span class="built_in">QString</span>(<span class="string">&quot;%1:%2:%3&quot;</span>).<span class="built_in">arg</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="built_in">QChar</span>(<span class="string">&#x27;0&#x27;</span>)).<span class="built_in">arg</span>(<span class="number">35</span>).<span class="built_in">arg</span>(<span class="number">59</span>);</span><br><span class="line"><span class="built_in">qDebug</span>()&lt;&lt;text&lt;&lt;endl;    <span class="comment">//&quot;01:35:59&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-2-不同字符串类型相互转换"><a href="#2-2-不同字符串类型相互转换" class="headerlink" title="2.2 不同字符串类型相互转换"></a>2.2 不同字符串类型相互转换</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// std::string -&gt; QString</span></span><br><span class="line">[<span class="type">static</span>] <span class="function">QString <span class="title">QString::fromStdString</span><span class="params">(<span class="type">const</span> std::string &amp;str)</span></span>;</span><br><span class="line"><span class="comment">// QString -&gt; std::string</span></span><br><span class="line"><span class="function">std::string <span class="title">QString::toStdString</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line">#QString -&gt; QByteArray</span><br><span class="line"><span class="comment">// 转换为本地编码, 跟随操作系统</span></span><br><span class="line"><span class="function">QByteArray <span class="title">QString::toLocal8Bit</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 转换为 Latin-1 编码的字符串 不支持中文</span></span><br><span class="line"><span class="function">QByteArray <span class="title">QString::toLatin1</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 转换为 utf8 编码格式的字符串 (常用)</span></span><br><span class="line"><span class="function">QByteArray <span class="title">QString::toUtf8</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line">#QByteArray -&gt; QString</span><br><span class="line"><span class="comment">//使用QString的构造函数即可</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="3-QVariant"><a href="#3-QVariant" class="headerlink" title="3. QVariant"></a>3. QVariant</h2><blockquote>
<p>QVariant(变体数据类型)这个类很神奇，或者说方便。很多时候，需要几种不同的数据类型需要传递，如果用结构体，又不大方便，容器保存的也只是一种数据类型，而QVariant则可以统统搞定。</p>
<p>QVariant 这个类型充当着最常见的数据类型的联合。QVariant 可以保存很多Qt的数据类型，包括<code>QBrush、QColor、QCursor、QDateTime、QFont、QKeySequence、 QPalette、QPen、QPixmap、QPoint、QRect、QRegion、QSize和QString</code>，并且还有C++基本类型，如<code> int、float</code>等。</p>
</blockquote>
<h2 id="4-标准类型"><a href="#4-标准类型" class="headerlink" title="4. 标准类型"></a>4. 标准类型</h2><ul>
<li>将标准类型转换为QVariant类型</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这类转换需要使用QVariant类的构造函数, 由于比较多, 大家可自行查阅Qt帮助文档, 在这里简单写几个</span></span><br><span class="line"><span class="built_in">QVariant</span>(<span class="type">int</span> val);</span><br><span class="line"><span class="built_in">QVariant</span>(<span class="type">bool</span> val);</span><br><span class="line"><span class="built_in">QVariant</span>(<span class="type">double</span> val);</span><br><span class="line"><span class="built_in">QVariant</span>(<span class="type">const</span> <span class="type">char</span> *val);</span><br><span class="line"><span class="built_in">QVariant</span>(<span class="type">const</span> QByteArray &amp;val);</span><br><span class="line"><span class="built_in">QVariant</span>(<span class="type">const</span> QString &amp;val);</span><br><span class="line">......</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 使用设置函数也可以将支持的类型的数据设置到QVariant对象中</span></span><br><span class="line"><span class="comment">// 这里的 T 类型, 就是QVariant支持的类型</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setValue</span><span class="params">(<span class="type">const</span> T &amp;value)</span></span>;</span><br><span class="line"><span class="comment">// 该函数行为和 setValue() 函数完全相同</span></span><br><span class="line">[<span class="type">static</span>] <span class="function">QVariant <span class="title">fromValue</span><span class="params">(<span class="type">const</span> T &amp;value)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>Exmple</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QVariant <span class="title">v</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">QVariant v;</span><br><span class="line">v.<span class="built_in">setValue</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">QVariant v = QVariant::<span class="built_in">fromValue</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> i = v.<span class="built_in">toInt</span>();          <span class="comment">// i is now 5</span></span><br><span class="line">QString s = v.<span class="built_in">toString</span>();   <span class="comment">// s is now &quot;5&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>判断 QVariant中封装的实际数据类型</li>
</ul>
<blockquote>
<p>Type 是枚举类型</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取类型，返回的是一个枚举类型;如QVariant::Int ...</span></span><br><span class="line"><span class="function">Type <span class="title">type</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">//获取类型名</span></span><br><span class="line"><span class="function"><span class="type">const</span> <span class="type">char</span> *<span class="title">typeName</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">//根据类型id(枚举)获取类型名(字符串)</span></span><br><span class="line">[<span class="type">static</span>] <span class="function"><span class="type">const</span> <span class="type">char</span> *<span class="title">typeToName</span><span class="params">(<span class="type">int</span> typeId)</span></span>;</span><br><span class="line"><span class="comment">//根据类型名(字符串)获取类型id(枚举)</span></span><br><span class="line">[<span class="type">static</span>] <span class="function">Type <span class="title">nameToType</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *name)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ul>
<li>将QVariant对象转换为实际的数据类型</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在转换之前可以先判断能够转换成对应的类型</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">canConvert</span><span class="params">(<span class="type">int</span> targetTypeId)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">canConvert</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="type">bool</span> 		<span class="title">toBool</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function">QByteArray 	<span class="title">toByteArray</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> 		<span class="title">toDouble</span><span class="params">(<span class="type">bool</span> *ok = Q_NULLPTR)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">float</span> 		<span class="title">toFloat</span><span class="params">(<span class="type">bool</span> *ok = Q_NULLPTR)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> 		<span class="title">toInt</span><span class="params">(<span class="type">bool</span> *ok = Q_NULLPTR)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function">QString 	<span class="title">toString</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">......</span><br><span class="line"></span><br><span class="line"><span class="function">T <span class="title">value</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="comment">//v.value&lt;int&gt;();       </span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>



<h3 id="4-1-自定义类型"><a href="#4-1-自定义类型" class="headerlink" title="4.1 自定义类型"></a>4.1 自定义类型</h3><blockquote>
<p>除了标准类型, 我们自定义的类型也可以使用<code>QVariant</code>类进行封装, <code>被QVariant存储的数据类型需要有一个默认的构造函数和一个拷贝构造函数</code>。为了实现这个功能，首先必须使用<code>Q_DECLARE_METATYPE()</code>宏。通常会将这个宏放在类的声明所在头文件的下面， 原型为： </p>
<p><code>Q_DECLARE_METATYPE(Type)</code></p>
<p>使用的具体步骤如下: </p>
</blockquote>
<ul>
<li><p>第一步: 定义类型，并注册</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定义类型</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Animal</span>()&#123;&#125;  <span class="comment">//必须要有默认构造函数</span></span><br><span class="line">                <span class="comment">//拷贝构造函数也必须有，不过没有深、浅拷贝时，用默认的即可</span></span><br><span class="line">    <span class="built_in">Animal</span>(QString name):_name(name)&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;Animal show name is :&quot;</span>&lt;&lt; _name &lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QString _name;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//自定义类型注册</span></span><br><span class="line"><span class="built_in">Q_DECLARE_METATYPE</span>(Animal);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>第二步: 使用forvalue()存储对象</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//QVariant vt(Animal(&quot;snake&quot;));	//不可以通过构造函数存自定义类型</span></span><br><span class="line">    QVariant vt;</span><br><span class="line">    <span class="comment">//有以下两种方法可以，存自定义类型</span></span><br><span class="line">    vt = QVariant::<span class="built_in">fromValue</span>(<span class="built_in">Animal</span>(<span class="string">&quot;dog&quot;</span>));	<span class="comment">//①</span></span><br><span class="line">    vt.<span class="built_in">setValue</span>(<span class="built_in">Animal</span>(<span class="string">&quot;cat&quot;</span>));					<span class="comment">//②</span></span><br><span class="line">    <span class="comment">//如果能转换到Animal类型，就转换</span></span><br><span class="line">    <span class="keyword">if</span>(vt.<span class="built_in">canConvert</span>&lt;Animal&gt;())</span><br><span class="line">    &#123;</span><br><span class="line">        Animal animal = vt.<span class="built_in">value</span>&lt;Animal&gt;();</span><br><span class="line">        animal.<span class="built_in">show</span>();</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<p>操作涉及的API如下:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果当前QVariant对象可用转换为对应的模板类型 T, 返回true, 否则返回false</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">canConvert</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 将当前QVariant对象转换为实际的 T 类型</span></span><br><span class="line"><span class="function">T <span class="title">value</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="5-位置和尺寸"><a href="#5-位置和尺寸" class="headerlink" title="5. 位置和尺寸"></a>5. 位置和尺寸</h2><blockquote>
<p>在QT中我们常见的 点, 线, 尺寸, 矩形 都被进行了封装, 下边依次为大家介绍相关的类。</p>
</blockquote>
<h3 id="5-1-QPoint"><a href="#5-1-QPoint" class="headerlink" title="5.1 QPoint"></a>5.1 QPoint</h3><blockquote>
<p><code>QPoint</code>类封装了我们常用用到的坐标点 (x, y), 常用的 API如下:</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">QPoint::setX</span><span class="params">(<span class="type">int</span> x)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QPoint::setY</span><span class="params">(<span class="type">int</span> y)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QPoint::x</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> &amp;<span class="title">QPoint::rx</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QPoint::y</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> &amp;<span class="title">QPoint::ry</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果x和y坐标都为0则返回true，否则返回false</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isNull</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//返回x()和y()的绝对值之和，传统上称为从原点到该点的向量的“曼哈顿长度”。</span></span></span><br><span class="line"><span class="function"><span class="comment">//(p1-p2).manhattanLength();   </span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">manhattanLength</span><span class="params">()</span> <span class="type">const</span>    </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//返回一个交换了x和y坐标的点:   QPoint&#123;1, 2&#125;.transposed() // &#123;2, 1&#125;  </span></span></span><br><span class="line"><span class="function">QPoint <span class="title">transposed</span><span class="params">()</span> <span class="type">const</span>    </span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">// 直接通过坐标对象进行算术运算: 加减乘除</span></span></span><br><span class="line"><span class="function">QPoint &amp;QPoint::<span class="keyword">operator</span>*</span>=(<span class="type">float</span> factor);</span><br><span class="line">QPoint &amp;QPoint::<span class="keyword">operator</span>*=(<span class="type">double</span> factor);</span><br><span class="line">QPoint &amp;QPoint::<span class="keyword">operator</span>*=(<span class="type">int</span> factor);</span><br><span class="line">QPoint &amp;QPoint::<span class="keyword">operator</span>+=(<span class="type">const</span> QPoint &amp;point);</span><br><span class="line">QPoint &amp;QPoint::<span class="keyword">operator</span>-=(<span class="type">const</span> QPoint &amp;point);</span><br><span class="line">QPoint &amp;QPoint::<span class="keyword">operator</span>/=(qreal divisor);</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="5-2-QLine"><a href="#5-2-QLine" class="headerlink" title="5.2 QLine"></a>5.2 QLine</h3><blockquote>
<p><code>QLine</code>是一个直线类, 封装了两个坐标点 (<code>两点确定一条直线</code>)</p>
<p>常用API如下:</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置直线的起点坐标</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setP1</span><span class="params">(<span class="type">const</span> QPoint &amp;p1)</span></span>;</span><br><span class="line"><span class="comment">// 设置直线的终点坐标</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setP2</span><span class="params">(<span class="type">const</span> QPoint &amp;p2)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setPoints</span><span class="params">(<span class="type">const</span> QPoint &amp;p1, <span class="type">const</span> QPoint &amp;p2)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setLine</span><span class="params">(<span class="type">int</span> x1, <span class="type">int</span> y1, <span class="type">int</span> x2, <span class="type">int</span> y2)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">QPoint <span class="title">p1</span><span class="params">()</span> <span class="type">const</span></span>;		<span class="comment">// 返回直线的起始点坐标</span></span><br><span class="line"><span class="function">QPoint <span class="title">p2</span><span class="params">()</span> <span class="type">const</span></span>;		<span class="comment">// 返回直线的终点坐标</span></span><br><span class="line"><span class="function">QPoint <span class="title">center</span><span class="params">()</span> <span class="type">const</span></span>;	<span class="comment">// 返回值直线的中心点坐标, (p1() + p2()) / 2	</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">x1</span><span class="params">()</span> <span class="type">const</span></span>;		<span class="comment">// 返回值直线起点的 x 坐标</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">y1</span><span class="params">()</span> <span class="type">const</span></span>;		<span class="comment">// 返回值直线起点的 y 坐标</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">x2</span><span class="params">()</span> <span class="type">const</span></span>;		<span class="comment">// 返回值直线终点的 x 坐标</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">y2</span><span class="params">()</span> <span class="type">const</span></span>;		<span class="comment">// 返回值直线终点的 y 坐标</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dx</span><span class="params">()</span> <span class="type">const</span>			<span class="comment">//返回直线向量的水平分量  </span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dy</span><span class="params">()</span> <span class="type">const</span>			<span class="comment">//返回直线向量的垂直分量  </span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 用给定的坐标点平移这条直线</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">translate</span><span class="params">(<span class="type">const</span> QPoint &amp;offset)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">translate</span><span class="params">(<span class="type">int</span> dx, <span class="type">int</span> dy)</span></span>;</span><br><span class="line"><span class="comment">// 用给定的坐标点平移这条直线, 返回平移之后的坐标点(不会改变这条线的坐标)</span></span><br><span class="line"><span class="function">QLine <span class="title">translated</span><span class="params">(<span class="type">const</span> QPoint &amp;offset)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function">QLine <span class="title">translated</span><span class="params">(<span class="type">int</span> dx, <span class="type">int</span> dy)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 直线对象进行比较</span></span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>!=(<span class="type">const</span> QLine &amp;line) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> QLine &amp;line) <span class="type">const</span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>5.3 QSize</p>
<blockquote>
<p>在QT中<code>QSize</code>类用来形容长度和宽度, 常用的API如下:</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">setWidth</span><span class="params">(<span class="type">int</span> width)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setHeight</span><span class="params">(<span class="type">int</span> height)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">width</span><span class="params">()</span> <span class="type">const</span></span>;		<span class="comment">// 得到宽度</span></span><br><span class="line"><span class="function"><span class="type">int</span> &amp;<span class="title">rwidth</span><span class="params">()</span></span>;			<span class="comment">// 得到宽度的引用</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">height</span><span class="params">()</span> <span class="type">const</span></span>;		<span class="comment">// 得到高度</span></span><br><span class="line"><span class="function"><span class="type">int</span> &amp;<span class="title">rheight</span><span class="params">()</span></span>;			<span class="comment">// 得到高度的引用</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">transpose</span><span class="params">()</span></span>;			<span class="comment">// 交换高度和宽度的值</span></span><br><span class="line"><span class="function">QSize <span class="title">transposed</span><span class="params">()</span> <span class="type">const</span></span>;	<span class="comment">// 交换高度和宽度的值, 返回交换之后的尺寸信息</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//返回一个大小，宽为当前大小与other的最小值，高为当前大小与other的最小值</span></span><br><span class="line"><span class="function">QSize <span class="title">boundedTo</span><span class="params">(<span class="type">const</span> QSize&amp; oterSize)</span></span></span><br><span class="line"><span class="function"><span class="comment">//返回一个大小，宽为当前大小与other的最大值，高为当前大小与other的最大值    </span></span></span><br><span class="line"><span class="function">QSize <span class="title">expandedTo</span><span class="params">(<span class="type">const</span> QSize &amp;otherSize)</span> <span class="type">const</span>    </span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="function">根据指定的模式，按给定的宽度和高度缩放矩形:  </span></span></span><br><span class="line"><span class="comment"><span class="function">	如果mode为Qt::IgnoreAspectRatio，则大小设置为(width, height)。  </span></span></span><br><span class="line"><span class="comment"><span class="function">	如果mode为Qt::KeepAspectRatio，当前大小将在内部缩放到一个尽可能大的矩形(宽度，高度)，保持高宽比。  </span></span></span><br><span class="line"><span class="comment"><span class="function">	如果mode是Qt::KeepAspectRatioByExpanding，当前大小被缩放到一个矩形，尽可能小的外部(宽度，高度)，保持长宽比。  </span></span></span><br><span class="line"><span class="comment"><span class="function">*/</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">scale</span><span class="params">(<span class="type">int</span> width, <span class="type">int</span> height, Qt::AspectRatioMode mode)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">scale</span><span class="params">(<span class="type">const</span> QSize &amp;size, Qt::AspectRatioMode mode)</span></span></span><br><span class="line"><span class="function">QSize <span class="title">scaled</span><span class="params">(<span class="type">int</span> width, <span class="type">int</span> height, Qt::AspectRatioMode mode)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QSize <span class="title">scaled</span><span class="params">(<span class="type">const</span> QSize &amp;s, Qt::AspectRatioMode mode)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 进行算法运算: 加减乘除</span></span></span><br><span class="line"><span class="function">QSize &amp;<span class="keyword">operator</span>*</span>=(qreal factor);</span><br><span class="line">QSize &amp;<span class="keyword">operator</span>+=(<span class="type">const</span> QSize &amp;size);</span><br><span class="line">QSize &amp;<span class="keyword">operator</span>-=(<span class="type">const</span> QSize &amp;size);</span><br><span class="line">QSize &amp;<span class="keyword">operator</span>/=(qreal divisor);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="5-4-QRect"><a href="#5-4-QRect" class="headerlink" title="5.4 QRect"></a>5.4 QRect</h3><blockquote>
<p>在Qt中使用 <code>QRect</code>类来描述一个矩形, 常用的API如下:</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造一个空对象</span></span><br><span class="line">QRect::<span class="built_in">QRect</span>();</span><br><span class="line"><span class="comment">// 基于左上角坐标, 和右下角坐标构造一个矩形对象</span></span><br><span class="line">QRect::<span class="built_in">QRect</span>(<span class="type">const</span> QPoint &amp;topLeft, <span class="type">const</span> QPoint &amp;bottomRight);</span><br><span class="line"><span class="comment">// 基于左上角坐标, 和 宽度, 高度构造一个矩形对象</span></span><br><span class="line">QRect::<span class="built_in">QRect</span>(<span class="type">const</span> QPoint &amp;topLeft, <span class="type">const</span> QSize &amp;size);</span><br><span class="line"><span class="comment">// 通过 左上角坐标(x, y), 和 矩形尺寸(width, height) 构造一个矩形对象</span></span><br><span class="line">QRect::<span class="built_in">QRect</span>(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> width, <span class="type">int</span> height);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置矩形的尺寸信息, 左上角坐标不变</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRect::setSize</span><span class="params">(<span class="type">const</span> QSize &amp;size)</span></span>;</span><br><span class="line"><span class="comment">// 设置矩形左上角坐标为(x,y), 大小为(width, height)</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRect::setRect</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> width, <span class="type">int</span> height)</span></span>;</span><br><span class="line"><span class="comment">// 设置矩形宽度</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRect::setWidth</span><span class="params">(<span class="type">int</span> width)</span></span>;</span><br><span class="line"><span class="comment">// 设置矩形高度</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRect::setHeight</span><span class="params">(<span class="type">int</span> height)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回值矩形左上角坐标</span></span><br><span class="line"><span class="function">QPoint <span class="title">QRect::topLeft</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 返回矩形右上角坐标</span></span><br><span class="line"><span class="comment">// 该坐标点值为: QPoint(left() + width() -1, top())</span></span><br><span class="line"><span class="function">QPoint <span class="title">QRect::topRight</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 返回矩形左下角坐标</span></span><br><span class="line"><span class="comment">// 该坐标点值为: QPoint(left(), top() + height() - 1)</span></span><br><span class="line"><span class="function">QPoint <span class="title">QRect::bottomLeft</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 返回矩形右下角坐标</span></span><br><span class="line"><span class="comment">// 该坐标点值为: QPoint(left() + width() -1, top() + height() - 1)</span></span><br><span class="line"><span class="function">QPoint <span class="title">QRect::bottomRight</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 返回矩形中心点坐标</span></span><br><span class="line"><span class="function">QPoint <span class="title">QRect::center</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回矩形上边缘y轴坐标</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QRect::top</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QRect::y</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 返回值矩形下边缘y轴坐标</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QRect::bottom</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 返回矩形左边缘 x轴坐标</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QRect::x</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QRect::left</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 返回矩形右边缘x轴坐标</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QRect::right</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回矩形的高度</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QRect::width</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 返回矩形的宽度</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QRect::height</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 返回矩形的尺寸信息</span></span><br><span class="line"><span class="function">QSize <span class="title">QRect::size</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//调整矩形的尺寸 （左上角和右下角坐标偏移量）</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRect::adjust</span><span class="params">(<span class="type">int</span> dx1, <span class="type">int</span> dy1, <span class="type">int</span> dx2, <span class="type">int</span> dy2)</span></span></span><br><span class="line"><span class="function">QRect <span class="title">QRect::adjusted</span><span class="params">(<span class="type">int</span> dx1, <span class="type">int</span> dy1, <span class="type">int</span> dx2, <span class="type">int</span> dy2)</span> <span class="type">const</span>    </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<p>QPoint，QLine，QSize，QRect各自都还有浮点型版本的，分别是QPointF，QLineF，QSizeF，QRectF，函数基本一样</p>
<ol start="6">
<li>日期和时间</li>
</ol>
<h2 id="6-QDate"><a href="#6-QDate" class="headerlink" title="6. QDate"></a>6. QDate</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line">QDate::<span class="built_in">QDate</span>();</span><br><span class="line">QDate::<span class="built_in">QDate</span>(<span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 公共成员函数</span></span><br><span class="line"><span class="comment">// 重新设置日期对象中的日期</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QDate::setDate</span><span class="params">(<span class="type">int</span> year, <span class="type">int</span> month, <span class="type">int</span> day)</span></span>;</span><br><span class="line"><span class="comment">// 给日期对象添加 ndays 天</span></span><br><span class="line"><span class="function">QDate <span class="title">QDate::addDays</span><span class="params">(qint64 ndays)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 给日期对象添加 nmonths 月</span></span><br><span class="line"><span class="function">QDate <span class="title">QDate::addMonths</span><span class="params">(<span class="type">int</span> nmonths)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 给日期对象添加 nyears 月</span></span><br><span class="line"><span class="function">QDate <span class="title">QDate::addYears</span><span class="params">(<span class="type">int</span> nyears)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 得到日期对象中的年/月/日</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QDate::year</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QDate::month</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QDate::day</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QDate::getDate</span><span class="params">(<span class="type">int</span> *year, <span class="type">int</span> *month, <span class="type">int</span> *day)</span> <span class="type">const</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*日期对象格式化</span></span><br><span class="line"><span class="comment">    d 		- 	没有前导零的日子 (1 to 31)  </span></span><br><span class="line"><span class="comment">    dd		-	前导为0的日子   (01 to 31)  </span></span><br><span class="line"><span class="comment">    ddd		-	显示(缩写) 周一、周二、周三、周四、周五、周六、周日		</span></span><br><span class="line"><span class="comment">    dddd	- 	显示(完整) 星期一、星期二、星期三、星期四、星期五、星期六、星期日</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    M		-	没有前导零的月份(1到12)  </span></span><br><span class="line"><span class="comment">    MM		-	前导零的月份(01到12)  </span></span><br><span class="line"><span class="comment">    MMM		-	缩写 1月、2月、3月...         </span></span><br><span class="line"><span class="comment">    MMMM	-	完整 一月、二月、三月...</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    yy		-	两个数字的年 (00 to 99)</span></span><br><span class="line"><span class="comment">    yyyy	-	以四位数表示的年份</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">QString <span class="title">QDate::toString</span><span class="params">(<span class="type">const</span> QString &amp;format)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作符重载 ==&gt; 日期比较</span></span><br><span class="line"><span class="type">bool</span> QDate::<span class="keyword">operator</span>!=(<span class="type">const</span> QDate &amp;d) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QDate::<span class="keyword">operator</span>&lt;(<span class="type">const</span> QDate &amp;d) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QDate::<span class="built_in">operator</span>&lt;=(<span class="type">const</span> QDate &amp;d) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QDate::<span class="keyword">operator</span>==(<span class="type">const</span> QDate &amp;d) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QDate::<span class="keyword">operator</span>&gt;(<span class="type">const</span> QDate &amp;d) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QDate::<span class="keyword">operator</span>&gt;=(<span class="type">const</span> QDate &amp;d) <span class="type">const</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 静态函数 -&gt; 得到本地的当前日期</span></span><br><span class="line">[<span class="type">static</span>] <span class="function">QDate <span class="title">QDate::currentDate</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="6-1-QTime"><a href="#6-1-QTime" class="headerlink" title="6.1 QTime"></a>6.1 QTime</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line">QTime::<span class="built_in">QTime</span>();</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    h 			==&gt; must be in the range 0 to 23</span></span><br><span class="line"><span class="comment">    m and s 	==&gt; must be in the range 0 to 59</span></span><br><span class="line"><span class="comment">    ms 			==&gt; must be in the range 0 to 999</span></span><br><span class="line"><span class="comment">*/</span> </span><br><span class="line">QTime::<span class="built_in">QTime</span>(<span class="type">int</span> h, <span class="type">int</span> m, <span class="type">int</span> s = <span class="number">0</span>, <span class="type">int</span> ms = <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 公共成员函数</span></span><br><span class="line"><span class="comment">// Returns true if the set time is valid; otherwise returns false.</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QTime::setHMS</span><span class="params">(<span class="type">int</span> h, <span class="type">int</span> m, <span class="type">int</span> s, <span class="type">int</span> ms = <span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="function">QTime <span class="title">QTime::addSecs</span><span class="params">(<span class="type">int</span> s)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function">QTime <span class="title">QTime::addMSecs</span><span class="params">(<span class="type">int</span> ms)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例代码</span></span><br><span class="line">  <span class="function">QTime <span class="title">n</span><span class="params">(<span class="number">14</span>, <span class="number">0</span>, <span class="number">0</span>)</span></span>;                <span class="comment">// n == 14:00:00</span></span><br><span class="line">  QTime t;</span><br><span class="line">  t = n.<span class="built_in">addSecs</span>(<span class="number">70</span>);                <span class="comment">// t == 14:01:10</span></span><br><span class="line">  t = n.<span class="built_in">addSecs</span>(<span class="number">-70</span>);               <span class="comment">// t == 13:58:50</span></span><br><span class="line">  t = n.<span class="built_in">addSecs</span>(<span class="number">10</span> * <span class="number">60</span> * <span class="number">60</span> + <span class="number">5</span>);  <span class="comment">// t == 00:00:05</span></span><br><span class="line">  t = n.<span class="built_in">addSecs</span>(<span class="number">-15</span> * <span class="number">60</span> * <span class="number">60</span>);     <span class="comment">// t == 23:00:00</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从时间对象中取出 时/分/秒/毫秒</span></span><br><span class="line"><span class="comment">// Returns the hour part (0 to 23) of the time. Returns -1 if the time is invalid.</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QTime::hour</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// Returns the minute part (0 to 59) of the time. Returns -1 if the time is invalid.</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QTime::minute</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// Returns the second part (0 to 59) of the time. Returns -1 if the time is invalid.</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QTime::second</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// Returns the millisecond part (0 to 999) of the time. Returns -1 if the time is invalid.</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QTime::msec</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 时间格式化</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	-- 时</span></span><br><span class="line"><span class="comment">    h	==&gt;	The hour without a leading zero (0 to 23 or 1 to 12 if AM/PM display)</span></span><br><span class="line"><span class="comment">    hh	==&gt;	The hour with a leading zero (00 to 23 or 01 to 12 if AM/PM display)</span></span><br><span class="line"><span class="comment">    H	==&gt;	The hour without a leading zero (0 to 23, even with AM/PM display)</span></span><br><span class="line"><span class="comment">    HH	==&gt;	The hour with a leading zero (00 to 23, even with AM/PM display)</span></span><br><span class="line"><span class="comment">    -- 分</span></span><br><span class="line"><span class="comment">    m	==&gt;	The minute without a leading zero (0 to 59)</span></span><br><span class="line"><span class="comment">    mm	==&gt;	The minute with a leading zero (00 to 59)</span></span><br><span class="line"><span class="comment">    -- 秒</span></span><br><span class="line"><span class="comment">    s	==&gt;	The whole second, without any leading zero (0 to 59)</span></span><br><span class="line"><span class="comment">    ss	==&gt;	The whole second, with a leading zero where applicable (00 to 59)</span></span><br><span class="line"><span class="comment">    -- 毫秒</span></span><br><span class="line"><span class="comment">	zzz	==&gt;	The fractional part of the second, to millisecond precision, </span></span><br><span class="line"><span class="comment">			including trailing zeroes where applicable (000 to 999).</span></span><br><span class="line"><span class="comment">	-- 上午或者下午</span></span><br><span class="line"><span class="comment">    AP or A		==&gt;		使用AM/PM(大写) 描述上下午, 中文系统显示汉字</span></span><br><span class="line"><span class="comment">    ap or a		==&gt;		使用am/pm(小写) 描述上下午, 中文系统显示汉字</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">QString <span class="title">QTime::toString</span><span class="params">(<span class="type">const</span> QString &amp;format)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作符重载 ==&gt; 时间比较</span></span><br><span class="line"><span class="type">bool</span> QTime::<span class="keyword">operator</span>!=(<span class="type">const</span> QTime &amp;t) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QTime::<span class="keyword">operator</span>&lt;(<span class="type">const</span> QTime &amp;t) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QTime::<span class="built_in">operator</span>&lt;=(<span class="type">const</span> QTime &amp;t) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QTime::<span class="keyword">operator</span>==(<span class="type">const</span> QTime &amp;t) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QTime::<span class="keyword">operator</span>&gt;(<span class="type">const</span> QTime &amp;t) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QTime::<span class="keyword">operator</span>&gt;=(<span class="type">const</span> QTime &amp;t) <span class="type">const</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 静态函数 -&gt; 得到当前时间</span></span><br><span class="line">[<span class="type">static</span>] <span class="function">QTime <span class="title">QTime::currentTime</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="经时计时器"><a href="#经时计时器" class="headerlink" title="经时计时器"></a>经时计时器</h3><p>QTime的经时计时器已经过时了，推荐使用QElapsedTimer。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//QTime已废弃的函数</span></span><br><span class="line"><span class="comment">// 开始计时</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QTime::start</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">// 计时结束</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QTime::elapsed</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 重新计时</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QTime::restart</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐使用的API函数</span></span><br><span class="line"><span class="comment">// QElapsedTimer 类</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QElapsedTimer::start</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">qint64 <span class="title">QElapsedTimer::restart</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">qint64 <span class="title">QElapsedTimer::elapsed</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>主要的使用方法就是测量一个操作耗时多久，例子如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">QElapsedTimer elapse;</span><br><span class="line">elapse.<span class="built_in">start</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i&lt;<span class="number">10000000</span>;i++);</span><br><span class="line"></span><br><span class="line"><span class="built_in">qDebug</span>()&lt;&lt;elapse.<span class="built_in">elapsed</span>()&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="6-2-QDateTime"><a href="#6-2-QDateTime" class="headerlink" title="6.2 QDateTime"></a>6.2 QDateTime</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line">QDateTime::<span class="built_in">QDateTime</span>();</span><br><span class="line">QDateTime::<span class="built_in">QDateTime</span>(<span class="type">const</span> QDate &amp;date, <span class="type">const</span> QTime &amp;time, Qt::TimeSpec spec = Qt::LocalTime);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 公共成员函数</span></span><br><span class="line"><span class="comment">// 设置日期</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QDateTime::setDate</span><span class="params">(<span class="type">const</span> QDate &amp;date)</span></span>;</span><br><span class="line"><span class="comment">// 设置时间</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QDateTime::setTime</span><span class="params">(<span class="type">const</span> QTime &amp;time)</span></span>;</span><br><span class="line"><span class="comment">// 给当前日期对象追加 年/月/日/秒/毫秒, 参数可以是负数</span></span><br><span class="line"><span class="function">QDateTime <span class="title">QDateTime::addYears</span><span class="params">(<span class="type">int</span> nyears)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function">QDateTime <span class="title">QDateTime::addMonths</span><span class="params">(<span class="type">int</span> nmonths)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function">QDateTime <span class="title">QDateTime::addDays</span><span class="params">(qint64 ndays)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function">QDateTime <span class="title">QDateTime::addSecs</span><span class="params">(qint64 s)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="function">QDateTime <span class="title">QDateTime::addMSecs</span><span class="params">(qint64 msecs)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 得到对象中的日期</span></span><br><span class="line"><span class="function">QDate <span class="title">QDateTime::date</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">// 得到对象中的时间</span></span><br><span class="line"><span class="function">QTime <span class="title">QDateTime::time</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 日期和时间格式, 格式字符参考QDate 和 QTime 类的 toString() 函数</span></span><br><span class="line"><span class="function">QString <span class="title">QDateTime::toString</span><span class="params">(<span class="type">const</span> QString &amp;format)</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作符重载 ==&gt; 日期时间对象的比较</span></span><br><span class="line"><span class="type">bool</span> QDateTime::<span class="keyword">operator</span>!=(<span class="type">const</span> QDateTime &amp;other) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QDateTime::<span class="keyword">operator</span>&lt;(<span class="type">const</span> QDateTime &amp;other) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QDateTime::<span class="built_in">operator</span>&lt;=(<span class="type">const</span> QDateTime &amp;other) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QDateTime::<span class="keyword">operator</span>==(<span class="type">const</span> QDateTime &amp;other) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QDateTime::<span class="keyword">operator</span>&gt;(<span class="type">const</span> QDateTime &amp;other) <span class="type">const</span>;</span><br><span class="line"><span class="type">bool</span> QDateTime::<span class="keyword">operator</span>&gt;=(<span class="type">const</span> QDateTime &amp;other) <span class="type">const</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 静态函数</span></span><br><span class="line"><span class="comment">// 得到当前时区的日期和时间(本地设置的时区对应的日期和时间)</span></span><br><span class="line">[<span class="type">static</span>] <span class="function">QDateTime <span class="title">QDateTime::currentDateTime</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/aoxixi/article/details/84554222">QT中的 容器（container）</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_35638392/article/details/84197703">使用QContiguousCache管理内存</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/panchang199266/article/details/104632914">三十七、Qt缓存之QCache</a></p>
<h2 id="序列式容器"><a href="#序列式容器" class="headerlink" title="序列式容器"></a>序列式容器</h2><h3 id="QList"><a href="#QList" class="headerlink" title="QList"></a>QList</h3><p>QList模板提供了一个列表，实际上是一个指针数组，当项目数小于1000时，可以实现快速的插入删除操作</p>
<p>QList<T> 是 Qt 的通用容器类之一。它将项目存储在一个列表中，该列表提供基于索引的快速访问和基于索引的插入和删除。<br>QList<T>、QLinkedList<T> 和 QVector<T> 提供类似的 API 和功能。它们通常可以互换，但会产生性能后果。</p>
<p><strong>使用概述：</strong></p>
<ul>
<li>QVector 应该是您的默认首选。 QVector<T> 通常会比 QList<T> 提供更好的性能，因为 QVector<T> 总是将其项按顺序存储在内存中，其中 QList<T> 将在堆上分配它的项，除非 sizeof(T) &lt;&#x3D; sizeof(void *) 并且 T 已使用 Q_DECLARE_TYPEINFO 声明为 Q_MOVABLE_TYPE 或 Q_PRIMITIVE_TYPE。</li>
<li>然而，QList 在整个 Qt API 被大量使用，用于传递参数和返回值。 使用 QList可以很方便的与这些 API 进行交互。</li>
<li>如果您需要一个真正的链表，它保证常量时间内插入列表，并且使用迭代器指向项而不是索引，那么请使用QLinkedList。</li>
</ul>
<h4 id="公有函数"><a href="#公有函数" class="headerlink" title="公有函数"></a>公有函数</h4><ul>
<li>添加数据</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//支持流插入</span></span><br><span class="line"><span class="built_in">QList</span>&lt;<span class="type">int</span>&gt;()&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="number">2</span>&lt;&lt;<span class="number">3</span>&lt;&lt;<span class="number">4</span>&lt;&lt;<span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">append</span><span class="params">(<span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">append</span><span class="params">(<span class="type">const</span> QList&lt;T&gt; &amp;value)</span></span></span><br><span class="line"><span class="function"> </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> i, <span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function">QList::iterator <span class="title">insert</span><span class="params">(QList::iterator before, <span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">prepend</span><span class="params">(<span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_back</span><span class="params">(<span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_front</span><span class="params">(<span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>获取数据</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">T &amp;<span class="title">back</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">back</span><span class="params">()</span> <span class="type">const</span>  </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">T &amp;<span class="title">first</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">first</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">T &amp;<span class="title">front</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">front</span><span class="params">()</span> <span class="type">const</span> </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">T &amp;<span class="title">last</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">last</span><span class="params">()</span> <span class="type">const</span> </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">constFirst</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">constLast</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//返回下标为i的元素，如果下标i不合法，则返回defaultValue</span></span></span><br><span class="line"><span class="function">T <span class="title">value</span><span class="params">(<span class="type">int</span> i)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">T <span class="title">value</span><span class="params">(<span class="type">int</span> i, <span class="type">const</span> T &amp;defaultValue)</span> <span class="type">const</span>  </span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">at</span><span class="params">(<span class="type">int</span> i)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">T &amp;<span class="keyword">operator</span>[]<span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="keyword">operator</span>[]<span class="params">(<span class="type">int</span> i)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="comment">//返回从位置pos开始的子列表。如果length为-1(默认)，则包含pos中的所有元素; </span></span></span><br><span class="line"><span class="function">QList&lt;T&gt; <span class="title">mid</span><span class="params">(<span class="type">int</span> pos, <span class="type">int</span> length = <span class="number">-1</span>)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>删除数据</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">QList::iterator <span class="title">erase</span><span class="params">(QList::iterator pos)</span></span></span><br><span class="line"><span class="function">QList::iterator <span class="title">erase</span><span class="params">(QList::iterator begin, QList::iterator end)</span>   </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pop_back</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pop_front</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="comment">//删除元素   </span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">removeAll</span><span class="params">(<span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">removeOne</span><span class="params">(<span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">removeAt</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">removeFirst</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">removeLast</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="comment">//删除元素并返回它，如果不使用返回值，removeAt()会更高效 </span></span></span><br><span class="line"><span class="function">T <span class="title">takeAt</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function">T <span class="title">takeFirst</span><span class="params">()</span></span></span><br><span class="line"><span class="function">T <span class="title">takeLast</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>查找&#x2F;替换</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回value在列表中第一次出现的索引位置，从索引位置from向前搜索。 如果没有匹配的项，则返回-1。  </span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">indexOf</span><span class="params">(<span class="type">const</span> T &amp;value, <span class="type">int</span> from = <span class="number">0</span>)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="comment">//返回value在列表中最后一次出现的索引位置，从索引位置from反向搜索。如果from是-1(默认值)，则搜索从最后一项开始。如果没有匹配的项，则返回-1。     </span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lastIndexOf</span><span class="params">(<span class="type">const</span> T &amp;value, <span class="type">int</span> from = <span class="number">-1</span>)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="comment">//将索引位置为i的项替换为value</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">replace</span><span class="params">(<span class="type">int</span> i, <span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"><span class="comment">//如果列表中包含值的出现，则返回true; 否则返回false。 该函数要求值类型具有operator==()的实现。     </span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">contains</span><span class="params">(<span class="type">const</span> T &amp;value)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>交换&#x2F;移动</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将索引位置from到索引位置to  </span></span><br><span class="line"><span class="comment">//[&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;] move(1,4)-&gt; [&quot;A&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;B&quot;, &quot;F&quot;]</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">move</span><span class="params">(<span class="type">int</span> from, <span class="type">int</span> to)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(QList&lt;T&gt; &amp;other)</span></span></span><br><span class="line"><span class="function"><span class="comment">//交换下标i j的元素    </span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swapItemsAt</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>判断函数</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">count</span><span class="params">(<span class="type">const</span> T &amp;value)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">count</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">length</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="comment">//如果列表第一项/后一项等于value,则返回true; 否则返回false。  </span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">startsWith</span><span class="params">(<span class="type">const</span> T &amp;value)</span> <span class="type">const</span>    </span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">endsWith</span><span class="params">(<span class="type">const</span> T &amp;value)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="comment">//预分配空间大小    </span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">reserve</span><span class="params">(<span class="type">int</span> alloc)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>和其他容器互转</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QSet&lt;T&gt; <span class="title">toSet</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">std::list&lt;T&gt; <span class="title">toStdList</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QVector&lt;T&gt; <span class="title">toVector</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">[<span class="type">static</span>] QList&lt;T&gt; <span class="title">fromSet</span><span class="params">(<span class="type">const</span> QSet&lt;T&gt; &amp;set)</span></span></span><br><span class="line"><span class="function">[<span class="type">static</span>] QList&lt;T&gt; <span class="title">fromStdList</span><span class="params">(<span class="type">const</span> std::list&lt;T&gt; &amp;list)</span></span></span><br><span class="line"><span class="function">[<span class="type">static</span>] QList&lt;T&gt; <span class="title">fromVector</span><span class="params">(<span class="type">const</span> QVector&lt;T&gt; &amp;vector)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>



<h3 id="QStringList"><a href="#QStringList" class="headerlink" title="QStringList"></a>QStringList</h3><p>QStringList继承自QList<QString>。 它提供基于索引的快速访问以及快速插入和删除。 将字符串列表作为值参数传递既快速又安全。<br>        QList的所有功能也适用于QStringList。 例如，可以使用isEmpty()来测试列表是否为空，还可以调用append()、prepend()、insert()、replace()、removeAll()、removeAt()、removeFirst()、removeLast()和removeOne()等函数来修改QStringList。 此外，QStringList提供了一些方便的函数，使处理字符串列表更容易:  </p>
<ul>
<li>判断是否包含某个字符串</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">contains</span><span class="params">(<span class="type">const</span> QString &amp;str, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">contains</span><span class="params">(QLatin1String str, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">contains</span><span class="params">(QStringView str, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>过滤：返回包含子字符串str的所有字符串的列表</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QStringList <span class="title">filter</span><span class="params">(<span class="type">const</span> QString &amp;str, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QStringList <span class="title">filter</span><span class="params">(QStringView str, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QStringList <span class="title">filter</span><span class="params">(<span class="type">const</span> QRegExp &amp;rx)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QStringList <span class="title">filter</span><span class="params">(<span class="type">const</span> QRegularExpression &amp;re)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>查找</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//从左往右查找</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">indexOf</span><span class="params">(<span class="type">const</span> QRegExp &amp;rx, <span class="type">int</span> from = <span class="number">0</span>)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">indexOf</span><span class="params">(QStringView str, <span class="type">int</span> from = <span class="number">0</span>)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">indexOf</span><span class="params">(QLatin1String str, <span class="type">int</span> from = <span class="number">0</span>)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">indexOf</span><span class="params">(QRegExp &amp;rx, <span class="type">int</span> from = <span class="number">0</span>)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">indexOf</span><span class="params">(<span class="type">const</span> QRegularExpression &amp;re, <span class="type">int</span> from = <span class="number">0</span>)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="comment">//从右往左查找    </span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lastIndexOf</span><span class="params">(<span class="type">const</span> QRegExp &amp;rx, <span class="type">int</span> from = <span class="number">-1</span>)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lastIndexOf</span><span class="params">(QStringView str, <span class="type">int</span> from = <span class="number">-1</span>)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lastIndexOf</span><span class="params">(QLatin1String str, <span class="type">int</span> from = <span class="number">-1</span>)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lastIndexOf</span><span class="params">(QRegExp &amp;rx, <span class="type">int</span> from = <span class="number">-1</span>)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lastIndexOf</span><span class="params">(<span class="type">const</span> QRegularExpression &amp;re, <span class="type">int</span> from = <span class="number">-1</span>)</span> <span class="type">const</span>   </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>连接：将QStringList中的所有字符串连接为一个字符串，每个元素由给定的分隔符(可以是空串)分隔。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//支持流插入 &lt;&lt;</span></span><br><span class="line"><span class="function">QString <span class="title">join</span><span class="params">(<span class="type">const</span> QString &amp;separator)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QString <span class="title">join</span><span class="params">(QStringView separator)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QString <span class="title">join</span><span class="params">(QLatin1String separator)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QString <span class="title">join</span><span class="params">(QChar separator)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>删除：从QStringList中删除重复的元素。 返回已删除元素的数量。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">removeDuplicates</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>替换：返回一个字符串列表，其中每个字符串在找到before文本时都将before文本替换为after文本</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QStringList &amp;<span class="title">replaceInStrings</span><span class="params">(<span class="type">const</span> QString &amp;before, <span class="type">const</span> QString &amp;after, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span></span></span><br><span class="line"><span class="function">QStringList &amp;<span class="title">replaceInStrings</span><span class="params">(QStringView before, QStringView after, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span></span></span><br><span class="line"><span class="function">QStringList &amp;<span class="title">replaceInStrings</span><span class="params">(<span class="type">const</span> QString &amp;before, QStringView after, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span></span></span><br><span class="line"><span class="function">QStringList &amp;<span class="title">replaceInStrings</span><span class="params">(QStringView before, <span class="type">const</span> QString &amp;after, Qt::CaseSensitivity cs = Qt::CaseSensitive)</span></span></span><br><span class="line"><span class="function">QStringList &amp;<span class="title">replaceInStrings</span><span class="params">(<span class="type">const</span> QRegExp &amp;rx, <span class="type">const</span> QString &amp;after)</span></span></span><br><span class="line"><span class="function">QStringList &amp;<span class="title">replaceInStrings</span><span class="params">(<span class="type">const</span> QRegularExpression &amp;re, <span class="type">const</span> QString &amp;after)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>排序：升序</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">sort</span><span class="params">(Qt::CaseSensitivity cs = Qt::CaseSensitive)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>



<h3 id="QLinkedList"><a href="#QLinkedList" class="headerlink" title="QLinkedList"></a>QLinkedList</h3><p>单链表</p>
<h3 id="QVector"><a href="#QVector" class="headerlink" title="QVector"></a>QVector</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回vector底层数组指针。只要不重新分配vector对象，指针就保持有效。 这个函数在将vector传递给接受普通c++数组的函数时非常有用。    </span></span><br><span class="line"><span class="function">T *<span class="title">data</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T *<span class="title">data</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="comment">//将value赋给向量中的所有项。 如果size不同于-1(默认值)，则vector的大小将被调整为size之前的大小。</span></span></span><br><span class="line"><span class="function">QVector&lt;T&gt; &amp;<span class="title">fill</span><span class="params">(<span class="type">const</span> T &amp;value, <span class="type">int</span> size = <span class="number">-1</span>)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>



<h3 id="QStack"><a href="#QStack" class="headerlink" title="QStack"></a>QStack</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">T <span class="title">pop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(<span class="type">const</span> T &amp;t)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(QStack&lt;T&gt; &amp;other)</span></span></span><br><span class="line"><span class="function">T &amp;<span class="title">top</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">top</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>



<h3 id="QQueue"><a href="#QQueue" class="headerlink" title="QQueue"></a>QQueue</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除队头并返回它  </span></span><br><span class="line"><span class="function">T <span class="title">dequeue</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="comment">//将值t加到队尾    </span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">enqueue</span><span class="params">(<span class="type">const</span> T &amp;t)</span></span></span><br><span class="line"><span class="function"><span class="comment">//返回队头的引用</span></span></span><br><span class="line"><span class="function">T &amp;<span class="title">head</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">head</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(QQueue&lt;T&gt; &amp;other)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>



<h2 id="关联式容器"><a href="#关联式容器" class="headerlink" title="关联式容器"></a>关联式容器</h2><h3 id="QMap"><a href="#QMap" class="headerlink" title="QMap"></a>QMap</h3><p>QMap&lt;Key, T&gt; 是 Qt 的通用容器类之一。 它存储(键，值)对，并提供与键关联的值的快速查找。<br>        QMap 和 QHash 提供非常相似的功能。 区别在于：</p>
<ul>
<li>QHash 提供比 QMap 更快的平均查找速度。</li>
<li>在迭代 QHash 时，项目是任意排序的。 使用 QMap，项目总是按键排序。</li>
<li>QHash 的键类型必须提供 operator&#x3D;&#x3D;() 和全局 qHash(Key) 函数。 QMap 的键类型必须提供 operator&lt;() 指定总顺序。 从 Qt 5.8.1 开始，使用指针类型作为键也是安全的，即使底层 operator&lt;() 不提供全序。</li>
</ul>
<h4 id="公有函数-1"><a href="#公有函数-1" class="headerlink" title="公有函数"></a>公有函数</h4><ul>
<li>添加数据</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//插入新的键值对，如果已经有一个键为key的项，则该项的值将被value替换；如果有多个键为key的项，则最近插入的项的值将被value替换。  </span></span><br><span class="line"><span class="function">QMap::iterator <span class="title">insert</span><span class="params">(<span class="type">const</span> Key &amp;key, <span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function">QMap::iterator <span class="title">insert</span><span class="params">(QMap::const_iterator pos, <span class="type">const</span> Key &amp;key, <span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"><span class="comment">//插入新的键值对，如果在map中已经有一个具有相同键的项，这个函数将创建一个新的项    </span></span></span><br><span class="line"><span class="function">QMap::iterator <span class="title">insertMulti</span><span class="params">(<span class="type">const</span> Key &amp;key, <span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function">QMap::iterator <span class="title">insertMulti</span><span class="params">(QMap::const_iterator pos, <span class="type">const</span> Key &amp;key, <span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>获取数据</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">T &amp;<span class="title">first</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">first</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> Key &amp;<span class="title">firstKey</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="type">const</span> Key <span class="title">key</span><span class="params">(<span class="type">const</span> T &amp;value, <span class="type">const</span> Key &amp;defaultKey = Key())</span> <span class="type">const</span> </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">QList&lt;Key&gt; <span class="title">keys</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QList&lt;Key&gt; <span class="title">keys</span><span class="params">(<span class="type">const</span> T &amp;value)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">T &amp;<span class="title">last</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">last</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> Key &amp;<span class="title">lastKey</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">//返回一个列表，该列表包含映射中的所有键。 在映射中出现多次的键在返回的列表中只出现一次。      </span></span></span><br><span class="line"><span class="function">QList&lt;Key&gt; <span class="title">uniqueKeys</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="comment">//将其他map中的所有项目插入到该map中。      </span></span></span><br><span class="line"><span class="function">QMap&lt;Key, T&gt; &amp;<span class="title">unite</span><span class="params">(<span class="type">const</span> QMap&lt;Key, T&gt; &amp;other)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="type">const</span> T <span class="title">value</span><span class="params">(<span class="type">const</span> Key &amp;key, <span class="type">const</span> T &amp;defaultValue = T())</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QList&lt;T&gt; <span class="title">values</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QList&lt;T&gt; <span class="title">values</span><span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">T &amp;<span class="keyword">operator</span>[]<span class="params">(<span class="type">const</span> Key &amp;key)</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T <span class="keyword">operator</span>[]<span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>删除数据</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">QMap::iterator <span class="title">erase</span><span class="params">(QMap::iterator pos)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">remove</span><span class="params">(<span class="type">const</span> Key &amp;key)</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">T <span class="title">take</span><span class="params">(<span class="type">const</span> Key &amp;key)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>查找</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">contains</span><span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="comment">/* 返回两个迭代器</span></span></span><br><span class="line"><span class="comment"><span class="function">迭代器1：是指向当前 map 容器中第一个大于或等于 key 的键值对的迭代器（lowerBound()）。</span></span></span><br><span class="line"><span class="comment"><span class="function">迭代器2：是指向当前 map 容器中第一个大于 key 的键值对的迭代器。（upperBound()）</span></span></span><br><span class="line"><span class="comment"><span class="function">*/</span></span></span><br><span class="line"><span class="function">QPair&lt;QMap::iterator, QMap::iterator&gt; <span class="title">equal_range</span><span class="params">(<span class="type">const</span> Key &amp;key)</span></span></span><br><span class="line"><span class="function">QPair&lt;QMap::const_iterator, QMap::const_iterator&gt; <span class="title">equal_range</span><span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">QMap::iterator <span class="title">find</span><span class="params">(<span class="type">const</span> Key &amp;key)</span></span></span><br><span class="line"><span class="function">QMap::const_iterator <span class="title">find</span><span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">QMap::iterator <span class="title">lowerBound</span><span class="params">(<span class="type">const</span> Key &amp;key)</span></span></span><br><span class="line"><span class="function">QMap::const_iterator <span class="title">lowerBound</span><span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">QMap::iterator <span class="title">upperBound</span><span class="params">(<span class="type">const</span> Key &amp;key)</span></span></span><br><span class="line"><span class="function">QMap::const_iterator <span class="title">upperBound</span><span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>判断</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">count</span><span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">count</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>



<h3 id="QMultiMap"><a href="#QMultiMap" class="headerlink" title="QMultiMap"></a>QMultiMap</h3><ul>
<li>插入和替换：插入新的键值对。  <ul>
<li>如果已经有一个键为key的项，则该项的值将被value替换。 </li>
<li>如果有多个键为key的项，则最近插入的项的值将被value替换。</li>
</ul>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typename</span> QMap&lt;Key, T&gt;::<span class="function">iterator <span class="title">replace</span><span class="params">(<span class="type">const</span> Key &amp;key, <span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>



<h3 id="QHash"><a href="#QHash" class="headerlink" title="QHash"></a>QHash</h3><ul>
<li>添加数据</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QHash::iterator <span class="title">insert</span><span class="params">(<span class="type">const</span> Key &amp;key, <span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function">QHash::iterator <span class="title">insertMulti</span><span class="params">(<span class="type">const</span> Key &amp;key, <span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>获取数据</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">const</span> Key <span class="title">key</span><span class="params">(<span class="type">const</span> T &amp;value)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> Key <span class="title">key</span><span class="params">(<span class="type">const</span> T &amp;value, <span class="type">const</span> Key &amp;defaultKey)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">QList&lt;Key&gt; <span class="title">keys</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QList&lt;Key&gt; <span class="title">keys</span><span class="params">(<span class="type">const</span> T &amp;value)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">   </span></span><br><span class="line"><span class="function">QList&lt;Key&gt; <span class="title">uniqueKeys</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QHash&lt;K, V&gt; &amp;<span class="title">unite</span><span class="params">(<span class="type">const</span> QHash&lt;K, V&gt; &amp;other)</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T <span class="title">value</span><span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T <span class="title">value</span><span class="params">(<span class="type">const</span> Key &amp;key, <span class="type">const</span> T &amp;defaultValue)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QList&lt;T&gt; <span class="title">values</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QList&lt;T&gt; <span class="title">values</span><span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>删除数据</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">QHash::iterator <span class="title">erase</span><span class="params">(QHash::const_iterator pos)</span></span></span><br><span class="line"><span class="function">QHash::iterator <span class="title">erase</span><span class="params">(QHash::iterator pos)</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">QPair&lt;QHash::iterator, QHash::iterator&gt; <span class="title">equal_range</span><span class="params">(<span class="type">const</span> Key &amp;key)</span></span></span><br><span class="line"><span class="function">QPair&lt;QHash::const_iterator, QHash::const_iterator&gt; <span class="title">equal_range</span><span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">   </span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">remove</span><span class="params">(<span class="type">const</span> Key &amp;key)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">T <span class="title">take</span><span class="params">(<span class="type">const</span> Key &amp;key)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>查找</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">contains</span><span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">QHash::iterator <span class="title">find</span><span class="params">(<span class="type">const</span> Key &amp;key)</span></span></span><br><span class="line"><span class="function">QHash::const_iterator <span class="title">find</span><span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>判断</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">count</span><span class="params">(<span class="type">const</span> Key &amp;key)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">count</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="type">const</span>    </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<h3 id="QMultiHash"><a href="#QMultiHash" class="headerlink" title="QMultiHash"></a>QMultiHash</h3><p><code>继承自QHash</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typename</span> QHash&lt;Key, T&gt;::<span class="function">iterator <span class="title">replace</span><span class="params">(<span class="type">const</span> Key &amp;key, <span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>案例</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Grade</span> <span class="comment">//班级</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Grade</span>(<span class="type">int</span> number, <span class="type">const</span> QString&amp; GradeName)</span><br><span class="line">        :<span class="built_in">number</span>(number),<span class="built_in">name</span>(GradeName)</span><br><span class="line">    &#123;&#125;</span><br><span class="line">    <span class="keyword">friend</span> QDebug <span class="keyword">operator</span>&lt;&lt;(QDebug out, <span class="type">const</span> Grade&amp; stu);</span><br><span class="line">    <span class="keyword">friend</span> <span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> Grade&amp; left, <span class="type">const</span> Grade&amp; right);</span><br><span class="line">    <span class="function"><span class="keyword">friend</span> uint <span class="title">qHash</span><span class="params">(<span class="type">const</span> Grade&amp; stu, uint seed = <span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> number;     <span class="comment">//班级号</span></span><br><span class="line">    QString name;   </span><br><span class="line">&#125;;</span><br><span class="line">QDebug <span class="keyword">operator</span>&lt;&lt;(QDebug out, <span class="type">const</span> Grade&amp; stu)</span><br><span class="line">&#123;</span><br><span class="line">    out &lt;&lt; <span class="string">&quot;[&quot;</span> &lt;&lt; stu.number &lt;&lt;<span class="string">&quot;,&quot;</span> &lt;&lt; stu.name &lt;&lt; <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> Grade&amp; left, <span class="type">const</span> Grade&amp; right)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">return</span> (left.number == right.number);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">uint <span class="title">qHash</span><span class="params">(<span class="type">const</span> Grade&amp; stu, uint seed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> stu.number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QCoreApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line">    QHash&lt;Grade, QString&gt; hash;</span><br><span class="line">    hash.<span class="built_in">insert</span>(<span class="built_in">Grade</span>(<span class="number">1403</span>, <span class="string">&quot;安卓&quot;</span>), <span class="string">&quot;张三&quot;</span>);</span><br><span class="line">    hash.<span class="built_in">insert</span>(<span class="built_in">Grade</span>(<span class="number">1406</span>, <span class="string">&quot;苹果&quot;</span>), <span class="string">&quot;李四&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; hash;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a.<span class="built_in">exec</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="QSet"><a href="#QSet" class="headerlink" title="QSet"></a>QSet</h3><ul>
<li>添加数据</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QSet::iterator <span class="title">insert</span><span class="params">(<span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>获取数据</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QList&lt;T&gt; <span class="title">values</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QList&lt;T&gt; <span class="title">toList</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>删除数据</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">QSet::iterator <span class="title">erase</span><span class="params">(QSet::const_iterator pos)</span></span></span><br><span class="line"><span class="function">QSet::iterator <span class="title">erase</span><span class="params">(QSet::iterator pos)</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">remove</span><span class="params">(<span class="type">const</span> T &amp;value)</span> </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>查找</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">contains</span><span class="params">(<span class="type">const</span> T &amp;value)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">contains</span><span class="params">(<span class="type">const</span> QSet&lt;T&gt; &amp;other)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function">QSet::const_iterator <span class="title">find</span><span class="params">(<span class="type">const</span> T &amp;value)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QSet::iterator <span class="title">find</span><span class="params">(<span class="type">const</span> T &amp;value)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>其他</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">count</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li>交集，差集，并集</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//并集：ohter集合中不在这个集合中的每一项都被插入到这个集合中。 返回对该集合的引用。      </span></span><br><span class="line"><span class="function">QSet&lt;T&gt; &amp;<span class="title">unite</span><span class="params">(<span class="type">const</span> QSet&lt;T&gt; &amp;other)</span></span></span><br><span class="line"><span class="function"><span class="comment">//差集：从该集合中删除包含在ohter集合中的所有项。 返回对该集合的引用。  </span></span></span><br><span class="line"><span class="function">QSet&lt;T&gt; &amp;<span class="title">QSet::subtract</span><span class="params">(<span class="type">const</span> QSet&lt;T&gt; &amp;other)</span></span></span><br><span class="line"><span class="function"><span class="comment">//交集：从该集合中删除ohter集合中不包含的所有项。 返回对该集合的引用。      </span></span></span><br><span class="line"><span class="function">QSet&lt;T&gt; &amp;<span class="title">intersect</span><span class="params">(<span class="type">const</span> QSet&lt;T&gt; &amp;other)</span></span></span><br><span class="line"><span class="function"><span class="comment">//如果该集合与ohter集合至少有一个共同项，则返回true。      </span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">intersects</span><span class="params">(<span class="type">const</span> QSet&lt;T&gt; &amp;other)</span> <span class="type">const</span> </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<h2 id="8，算法"><a href="#8，算法" class="headerlink" title="8，算法"></a>8，算法</h2><p>直接使用STL中的算法</p>
<h2 id="QtGlobal"><a href="#QtGlobal" class="headerlink" title="QtGlobal"></a>QtGlobal</h2><p>Qt类的头文件都会包含该头文件，所以不用再显式定义了</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">T <span class="title">qAbs</span><span class="params">(<span class="type">const</span> T &amp;t)</span>	<span class="comment">//求绝对值</span></span></span><br><span class="line"><span class="function"><span class="comment">//返回value限定在min至max范围之内的值</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">qBound</span><span class="params">(<span class="type">const</span> T &amp;min, <span class="type">const</span> T &amp;val, <span class="type">const</span> T &amp;max)</span></span></span><br><span class="line"><span class="function"><span class="comment">//如果p1和p2近似相等，返回true</span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">qFuzzyCompare</span><span class="params">(<span class="type">double</span> p1, <span class="type">double</span> p2)</span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">qFuzzyCompare</span><span class="params">(<span class="type">float</span> p1, <span class="type">float</span> p2)</span></span></span><br><span class="line"><span class="function"><span class="comment">//如果浮点数约等于0，返回true    </span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">qFuzzyIsNull</span><span class="params">(<span class="type">double</span> d)</span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">qFuzzyIsNull</span><span class="params">(<span class="type">float</span> f)</span></span></span><br><span class="line"><span class="function"><span class="comment">//返回无穷大的数    </span></span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">qInf</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="comment">//求最大值和最小值</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">qMax</span><span class="params">(<span class="type">const</span> T &amp;a, <span class="type">const</span> T &amp;b)</span></span></span><br><span class="line"><span class="function"><span class="type">const</span> T &amp;<span class="title">qMin</span><span class="params">(<span class="type">const</span> T &amp;a, <span class="type">const</span> T &amp;b)</span></span></span><br><span class="line"><span class="function"><span class="comment">//四舍五入到最近的整数</span></span></span><br><span class="line"><span class="function">qint64 <span class="title">qRound64</span><span class="params">(<span class="type">double</span> d)</span></span></span><br><span class="line"><span class="function">qint64 <span class="title">qRound64</span><span class="params">(<span class="type">float</span> d)</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">qRound</span><span class="params">(<span class="type">double</span> d)</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">qRound</span><span class="params">(<span class="type">float</span> d)</span></span></span><br><span class="line"><span class="function"><span class="comment">//获得Qt版本    </span></span></span><br><span class="line"><span class="function"><span class="type">const</span> <span class="type">char</span> *<span class="title">qVersion</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>



<h2 id="QtMath"><a href="#QtMath" class="headerlink" title="QtMath"></a>QtMath</h2><h3 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">qreal <span class="title">qAcos</span><span class="params">(qreal v)</span></span></span><br><span class="line"><span class="function">qreal <span class="title">qAsin</span><span class="params">(qreal v)</span></span></span><br><span class="line"><span class="function">qreal <span class="title">qAtan2</span><span class="params">(qreal y, qreal x)</span></span></span><br><span class="line"><span class="function">qreal <span class="title">qAtan</span><span class="params">(qreal v)</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">qCeil</span><span class="params">(qreal v)</span></span></span><br><span class="line"><span class="function">qreal <span class="title">qCos</span><span class="params">(qreal v)</span></span></span><br><span class="line"><span class="function"><span class="comment">//角度转弧度    </span></span></span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">qDegreesToRadians</span><span class="params">(<span class="type">float</span> degrees)</span></span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">qDegreesToRadians</span><span class="params">(<span class="type">double</span> degrees)</span></span></span><br><span class="line"><span class="function">qreal <span class="title">qExp</span><span class="params">(qreal v)</span></span></span><br><span class="line"><span class="function">qreal <span class="title">qFabs</span><span class="params">(qreal v)</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">qFloor</span><span class="params">(qreal v)</span></span></span><br><span class="line"><span class="function">qreal <span class="title">qLn</span><span class="params">(qreal v)</span></span></span><br><span class="line"><span class="function">quint32 <span class="title">qNextPowerOfTwo</span><span class="params">(quint32 value)</span></span></span><br><span class="line"><span class="function">quint64 <span class="title">qNextPowerOfTwo</span><span class="params">(quint64 value)</span></span></span><br><span class="line"><span class="function">quint32 <span class="title">qNextPowerOfTwo</span><span class="params">(qint32 value)</span></span></span><br><span class="line"><span class="function">quint64 <span class="title">qNextPowerOfTwo</span><span class="params">(qint64 value)</span></span></span><br><span class="line"><span class="function">qreal <span class="title">qPow</span><span class="params">(qreal x, qreal y)</span></span></span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">qRadiansToDegrees</span><span class="params">(<span class="type">float</span> radians)</span></span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">qRadiansToDegrees</span><span class="params">(<span class="type">double</span> radians)</span></span></span><br><span class="line"><span class="function">qreal <span class="title">qSin</span><span class="params">(qreal v)</span></span></span><br><span class="line"><span class="function">qreal <span class="title">qSqrt</span><span class="params">(qreal v)</span></span></span><br><span class="line"><span class="function">qreal <span class="title">qTan</span><span class="params">(qreal v)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<h1 id="信号和槽"><a href="#信号和槽" class="headerlink" title="信号和槽"></a>信号和槽</h1><p>简单来说，一个操作要对应一个资源的运动。</p>
<ol>
<li>信号的本质</li>
</ol>
<p>信号是由于用户对窗口或控件进行了某些操作，导致窗口或控件产生了某个特定事件，这时候Qt对应的窗口类会发出某个信号，以此对用户的挑选做出反应。</p>
<p>因此根据上述的描述我们得到一个结论：信号的本质就是事件，比如：</p>
<ul>
<li>按钮单击、双击</li>
<li>窗口刷新</li>
<li>鼠标移动、鼠标按下、鼠标释放</li>
<li>键盘输入</li>
</ul>
<p>那么在Qt中信号是通过什么形式呈现给使用者的呢？</p>
<ul>
<li>我们对哪个窗口进行操作, 哪个窗口就可以捕捉到这些被触发的事件。</li>
<li>对于使用者来说触发了一个事件我们就可以得到Qt框架给我们发出的某个特定信号。</li>
<li>信号的呈现形式就是函数， 也就是说某个事件产生了， Qt框架就会调用某个对应的信号函数， 通知使用者。</li>
</ul>
<p><code>在QT中信号的发出者是某个实例化的类对象，对象内部可以进行相关事件的检测。</code></p>
<h2 id="1-槽的本质"><a href="#1-槽的本质" class="headerlink" title="1. 槽的本质"></a>1. 槽的本质</h2><p>槽（Slot）就是对信号响应的函数。槽就是一个函数，与一般的C++函数是一样的，可以定义在类的任何部分（public、private或 protected），可以具有任何参数，可以被重载，也可以被直接调用(但是不能有默认参数)。槽函数与一般的函数不同的是：槽函数可以与一个信号关联，当信号被发射时，关联的槽函数被自动执行。</p>
<p>举个简单的例子：</p>
<p>女朋友说：“我肚子饿了！”，于是我带她去吃饭。</p>
<p>上边例子中相当于女朋友发出了一个信号， 我收到了信号并其将其处理掉了。</p>
<ul>
<li>女朋友 -&gt; 发送信号的对象, 信号内容: 我饿了</li>
<li>我 -&gt; 接收信号的对象并且处理掉了这个信号, 处理动作: 带她去吃饭</li>
</ul>
<p><code>在Qt中槽函数的所有者也是某个类的实例对象。</code></p>
<p>写信：发件人    信的内容      收件人  收到信做事情</p>
<h3 id="1-1-信号和槽的关系"><a href="#1-1-信号和槽的关系" class="headerlink" title="1.1 信号和槽的关系"></a>1.1 信号和槽的关系</h3><p>在Qt中信号和槽函数都是独立的个体，本身没有任何联系，但是由于某种特性需求我们可以将二者连接到一起，好比牛郎和织女想要相会必须要有喜鹊为他们搭桥一样。</p>
<p>信号与槽关联是用 QObject::connect() 函数实现的，其基本格式是：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">static</span>] <span class="function">QMetaObject::Connection  <span class="title">QObject::connect</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="type">const</span> QObject *sender, 								</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="type">const</span> <span class="type">char</span> *signal, 								</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="type">const</span> QObject *receiver, 							</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="type">const</span> <span class="type">char</span> *method, 								</span></span></span><br><span class="line"><span class="params"><span class="function">    Qt::ConnectionType type = Qt::AutoConnection)</span></span>;	</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>参数:</strong><ul>
<li><strong>sender</strong>: 发出信号的对象</li>
<li><strong>signal</strong>: sender对象的信号，信号是一个函数</li>
<li><strong>receiver</strong>: 信号接收者</li>
<li><strong>method</strong>: receiver对象的槽函数, 当检测到sender发出了signal信号, receiver对象调用method方法</li>
</ul>
</li>
</ul>
<p><code> connect函数相对于做了信号处理动作的注册,调用conenct连接信号与槽时，sender对象的信号并没有产生, 因此receiver对象的method也不会被调用,method槽函数本质是一个回调函数, 调用的时机是信号产生之后。 调用槽函数是Qt框架来执行的,connect中的sender和recever两个指针必须被实例化了, 否则conenct不会成功</code>。</p>
<h2 id="2-标准信号槽使用"><a href="#2-标准信号槽使用" class="headerlink" title="2. 标准信号槽使用"></a>2. 标准信号槽使用</h2><h3 id="2-1-标准信号-槽"><a href="#2-1-标准信号-槽" class="headerlink" title="2.1 标准信号&#x2F;槽"></a>2.1 标准信号&#x2F;槽</h3><p>在Qt提供的很多类中都可以对用户触发的某些特定事件进行检测,  当事件被触发后就会产生对应的信号, 这些信号都是Qt类内部自带的, 因此称之为标准信号。</p>
<p>同样的，在Qt的很多类内部为我了提供了很多功能函数，并且这些函数也可以作为触发的信号的处理动作，有这类特性的函数在Qt中称之为标准槽函数。</p>
<p>系统自带的信号和槽通常如何查找呢，这个就需要利用帮助文档了，在帮助文档中比如我们上面的按钮的点击信号，在帮助文档中输入QPushButton，首先我们可以在<code>Contents</code>中寻找关键字 <code>signals</code>，信号的意思，但是我们发现并没有找到，这时候我们应该看当前类从父类继承下来了哪些信号，因此我们去他的父类QAbstractButton中就可以找到该关键字，点击signals索引到系统自带的信号有如下几个</p>
<h3 id="2-2-使用"><a href="#2-2-使用" class="headerlink" title="2.2 使用"></a>2.2 使用</h3><blockquote>
<p>功能实现： 点击窗口上的按钮, 关闭窗口</p>
<ul>
<li>按钮: 信号发出者 -&gt; <code>QPushButton</code></li>
<li>窗口: 信号的接收者和处理者 -&gt; <code>QWidget</code></li>
</ul>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 单击按钮发出的信号</span></span><br><span class="line">[signal] <span class="function"><span class="type">void</span> <span class="title">QAbstractButton::clicked</span><span class="params">(<span class="type">bool</span> checked = <span class="literal">false</span>)</span></span></span><br><span class="line"><span class="function"><span class="comment">// 关闭窗口的槽函数</span></span></span><br><span class="line"><span class="function">[slot] <span class="type">bool</span> <span class="title">QWidget::close</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 单击按钮关闭窗口</span></span><br><span class="line"><span class="built_in">connect</span>(ui-&gt;closewindow, &amp;QPushButton::clicked, <span class="keyword">this</span>, &amp;MainWindow::close);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="3-自定义信号槽使用"><a href="#3-自定义信号槽使用" class="headerlink" title="3. 自定义信号槽使用"></a>3. 自定义信号槽使用</h2><blockquote>
<p>Qt框架提供的信号槽在某些特定场景下是无法满足我们的项目需求的，因此我们还设计自己需要的的信号和槽，同样还是使用connect()对自定义的信号槽进行连接。</p>
</blockquote>
<p>如果想要使用自定义的信号和槽, 首先要编写新的类并且让其继承Qt的某些标准类,我们自己编写的类想要在Qt中使用使用信号槽机制, 那么必须要满足的如下条件: </p>
<ul>
<li>这个类必须从QObject类或者是其子类进行派生</li>
<li>在定义类的第一行头文件中加入 Q_OBJECT 宏</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在头文件派生类的时候，首先像下面那样引入Q_OBJECT宏：</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMainWindow</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="3-1-自定义信号"><a href="#3-1-自定义信号" class="headerlink" title="3.1 自定义信号"></a>3.1 自定义信号</h3><ul>
<li><p>信号是类的成员函数</p>
</li>
<li><p>返回值是 void 类型</p>
</li>
<li><p>参数可以随意指定, 信号也支持重载</p>
</li>
<li><p>信号需要使用 signals 关键字进行声明, 使用方法类似于public等关键字</p>
</li>
<li><p>信号函数只需要声明, 不需要定义(没有函数体实现)</p>
</li>
<li><p>在程序中发送自定义信号: 发送信号的本质就是调用信号函数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">emit <span class="title">mysignals</span><span class="params">()</span></span>;	<span class="comment">//发送信号</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><span style="color:red;font-size:13px;">emit是一个空宏，没有特殊含义，仅用来表示这个语句是发射一个信号，不写当然可以，但是不推荐。</span></p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 举例: 信号重载</span></span><br><span class="line"><span class="comment">// Qt中的类想要使用信号槽机制必须要从QObject类派生(直接或间接派生都可以)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyButton</span> : <span class="keyword">public</span> QPushButton</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line">signals:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">testsignal</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">testsignal</span><span class="params">(<span class="type">int</span> a)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//qRegisterMetaType</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>信号参数的作用是数据传递, 谁调用信号函数谁就指定实参，实参最终会被传递给槽函数</p>
<h3 id="3-2-自定义槽"><a href="#3-2-自定义槽" class="headerlink" title="3.2 自定义槽"></a>3.2 自定义槽</h3><blockquote>
<p>槽函数就是信号的处理动作，自定义槽函数和自定义的普通函数写法是一样的。</p>
</blockquote>
<p><strong>特点：</strong></p>
<ul>
<li>返回值是 void 类型</li>
<li>槽函数也支持重载<ul>
<li>槽函数参数个数, 需要看连接的信号的参数个数</li>
<li>槽函数的参数是用来接收信号发送的数据的, 信号的参数就是需要发送的数据</li>
<li>举例:<ul>
<li>信号函数: void testsig(int a, double b);</li>
<li>槽函数:   void testslot(int a, double b);</li>
</ul>
</li>
<li>总结:<ul>
<li>槽函数的参数应该和对应的信号的参数个数, 类型一一对应</li>
<li>信号的参数可以大于等于槽函数的参数个数，未被槽函数接受的数据会被忽略<ul>
<li>信号函数: void testsig(int a, double b);</li>
<li>槽函数:   void testslot(int a);</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>槽函数的类型:</strong></p>
<ul>
<li>成员函数<ul>
<li>普通成员函数</li>
<li>静态成员函数</li>
</ul>
</li>
<li>全局函数</li>
<li>lambda表达式(匿名函数)</li>
</ul>
<ol start="4">
<li>槽函数可以使用关键字进行声明: slots (Qt5中slots可以省略不写)<ul>
<li>public slots:</li>
<li>private slots:</li>
<li>protected slots:</li>
</ul>
</li>
</ol>
<p>场景举例</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 女朋友饿了, 我请她吃饭</span></span><br><span class="line"><span class="comment">// class GirlFriend</span></span><br><span class="line"><span class="comment">// class OneSelf</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GirlFriend</span>:<span class="keyword">public</span> QObject</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">GirlFriend</span>(QObject*parent = <span class="literal">nullptr</span>):<span class="built_in">QObject</span>(parent)</span><br><span class="line">    &#123;&#125;</span><br><span class="line">signals:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">hungry</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">public</span> slots:</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OneSelf</span>:<span class="keyword">public</span> QObject</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">OneSelf</span>(QObject*parent = <span class="literal">nullptr</span>):<span class="built_in">QObject</span>(parent)</span><br><span class="line">    &#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">goEat</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;goEat&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">goEatFood</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;goEatFood&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">signals:</span><br><span class="line"><span class="keyword">public</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">onHungry</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;宝贝饿了呀，多喝热水哟~&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Widget</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Widget</span>();</span><br><span class="line"><span class="keyword">public</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">onBtnClicked</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    GirlFriend *girl;</span><br><span class="line">    OneSelf* self;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>widget.cpp</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QPushButton&gt;</span></span></span><br><span class="line"></span><br><span class="line">Widget::<span class="built_in">Widget</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">&#123;</span><br><span class="line">    girl = <span class="keyword">new</span> <span class="built_in">GirlFriend</span>(<span class="keyword">this</span>);</span><br><span class="line">    self = <span class="keyword">new</span> <span class="built_in">OneSelf</span>(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">//连接槽函数</span></span><br><span class="line">    <span class="built_in">connect</span>(girl,&amp;GirlFriend::hungry,self,&amp;OneSelf::onHungry);</span><br><span class="line">	<span class="comment">//连接普通成员函数</span></span><br><span class="line">    <span class="built_in">connect</span>(girl,&amp;GirlFriend::hungry,self,&amp;OneSelf::goEat);</span><br><span class="line">	<span class="comment">//连接静态成员函数</span></span><br><span class="line">    <span class="built_in">connect</span>(girl,&amp;GirlFriend::hungry,self,&amp;OneSelf::goEatFood);</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    QPushButton*btn = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;按下就饿了&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">//通过widget间接发送girl的hungry信号    </span></span><br><span class="line">    <span class="built_in">connect</span>(btn,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;Widget::onBtnClicked);</span><br><span class="line">     <span class="comment">//连接信号，直接发送girl的hungry信号   </span></span><br><span class="line">    <span class="comment">//connect(btn,&amp;QPushButton::clicked,girl,&amp;GirlFriend::hungry);    </span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget::~<span class="built_in">Widget</span>()</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::onBtnClicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    emit girl-&gt;<span class="built_in">hungry</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="4-信号槽拓展"><a href="#4-信号槽拓展" class="headerlink" title="4. 信号槽拓展"></a>4. 信号槽拓展</h2><h3 id="4-1-信号槽使用拓展"><a href="#4-1-信号槽使用拓展" class="headerlink" title="4.1 信号槽使用拓展"></a>4.1 信号槽使用拓展</h3><ul>
<li><p>一个信号可以连接多个槽函数, 发送一个信号有多个处理动作</p>
<ul>
<li>需要写多个<code>connect</code>连接</li>
<li>信号的接收者可以是一个对象, 也可以是多个对象</li>
</ul>
</li>
<li><p>一个槽函数可以连接多个信号, 多个不同的信号, 处理动作是相同的</p>
<ul>
<li>写多个<code>connect</code>就可以</li>
</ul>
</li>
<li><p>信号可以连接信号</p>
<ul>
<li><p>信号接收者可以不出来接收的信号, 继续发出新的信号 -&gt; 传递了数据, 并没有进行处理</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">QPushButton*btn = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;one&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line">QPushButton*btn2 = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;two&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line">btn2-&gt;<span class="built_in">move</span>(<span class="number">100</span>,<span class="number">0</span>);</span><br><span class="line"><span class="comment">//点击btn按钮，会让btn2按钮发出clicked信号</span></span><br><span class="line"><span class="built_in">connect</span>(btn,&amp;QPushButton::clicked,btn2,&amp;QPushButton::clicked);</span><br><span class="line"></span><br><span class="line"><span class="built_in">connect</span>(btn2,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;Widget::onClicked);</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::onClicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;okok&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>信号槽是可以断开的</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">disconnect</span>(<span class="type">const</span> QObject *sender, &amp;QObject::signal, </span><br><span class="line">        <span class="type">const</span> QObject *receiver, &amp;QObject::method);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-2-信号槽的连接方式"><a href="#4-2-信号槽的连接方式" class="headerlink" title="4.2 信号槽的连接方式"></a>4.2 信号槽的连接方式</h3><ul>
<li><p>Qt5的连接方式</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 语法:</span></span><br><span class="line"><span class="function">QMetaObject::Connection <span class="title">QObject::connect</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    	<span class="type">const</span> QObject *sender, PointerToMemberFunction signal, </span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="type">const</span> QObject *receiver, PointerToMemberFunction method, </span></span></span><br><span class="line"><span class="params"><span class="function">		Qt::ConnectionType type = Qt::AutoConnection)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 信号和槽函数也就是第2,4个参数传递的是地址, 编译器在编译过程中会对数据的正确性进行检测</span></span><br><span class="line"><span class="built_in">connect</span>(<span class="type">const</span> QObject *sender, &amp;QObject::signal, </span><br><span class="line">        <span class="type">const</span> QObject *receiver, &amp;QObject::method);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


</li>
<li><p>Qt4的连接方式</p>
<blockquote>
<p>这种旧的信号槽连接方式在Qt5中是支持的, 但是不推荐使用, 因为这种方式在进行信号槽连接的时候, 信号槽函数通过宏<code>SIGNAL</code>和<code>SLOT</code>转换为字符串类型。</p>
<p>因为信号槽函数的转换是通过宏来进行转换的，因此传递到宏函数内部的数据不会被进行检测， 如果使用者传错了数据，编译器也不会报错，但实际上信号槽的连接已经不对了，只有在程序运行起来之后才能发现问题，而且问题不容易被定位。</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Qt4的信号槽连接方式</span></span><br><span class="line">[<span class="type">static</span>] <span class="function">QMetaObject::Connection <span class="title">QObject::connect</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="type">const</span> QObject *sender, <span class="type">const</span> <span class="type">char</span> *signal, </span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="type">const</span> QObject *receiver, <span class="type">const</span> <span class="type">char</span> *method, </span></span></span><br><span class="line"><span class="params"><span class="function">    Qt::ConnectionType type = Qt::AutoConnection)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">connect</span>(<span class="type">const</span> QObject *sender,<span class="built_in">SIGNAL</span>(信号函数名(参数<span class="number">1</span>, 参数<span class="number">2</span>, ...)),</span><br><span class="line">        <span class="type">const</span> QObject *receiver,<span class="built_in">SLOT</span>(槽函数名(参数<span class="number">1</span>, 参数<span class="number">2</span>, ...)));</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>应用举例</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Me</span> : <span class="keyword">public</span> QObject</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="comment">// Qt4中的槽函数必须这样声明, qt5中的关键字 slots 可以被省略</span></span><br><span class="line"><span class="keyword">public</span> slots:</span><br><span class="line">   	<span class="function"><span class="type">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">eat</span><span class="params">(QString somthing)</span></span>;</span><br><span class="line">signals:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">hungury</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">hungury</span><span class="params">(QString somthing)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<p>基于上面写的信号与槽，我们来处理如下逻辑: 我饿了, 我要吃东西</p>
<ul>
<li><p><strong>分析</strong>: 信号的发出者是我自己, 信号的接收者也是我自己</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Me m;</span><br><span class="line"><span class="comment">// Qt4处理方式  注意不要把信号与槽的名字写错了，因为是转为字符串写错了不会报错，但是连接会失败</span></span><br><span class="line"><span class="built_in">connect</span>(&amp;m, <span class="built_in">SIGNAL</span>(<span class="built_in">eat</span>()), &amp;m, <span class="built_in">SLOT</span>(<span class="built_in">hungury</span>()));</span><br><span class="line"><span class="built_in">connect</span>(&amp;m, <span class="built_in">SIGNAL</span>(<span class="built_in">eat</span>(QString)), &amp;m, <span class="built_in">SLOT</span>(<span class="built_in">hungury</span>(QString)));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Qt5处理方式</span></span><br><span class="line"><span class="built_in">connect</span>(&amp;m, &amp;Me::eat, &amp;m, &amp;Me::hungury);	<span class="comment">// error:no matching member function for call to &#x27;connect&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>为什么Qt4的方式没有错误，Qt5的方式却有问题了呢？</strong></p>
<ul>
<li>Qt4的方式在传信号和槽的时候用了宏进行强转，而且都带了参数，不会有二义性问题产生</li>
<li>Qt5中，信号和槽都有重载，此事connect函数根本就不知道你要使用的是重载中的哪一个，所以只能报错咯！</li>
</ul>
</li>
<li><p><strong>如何解决Qt5中的信号和槽重载中的二义性问题呢？</strong></p>
<ul>
<li><p>一，通过函数指针解决</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//信号</span></span><br><span class="line"><span class="built_in">void</span> (Me::*funchungury)() = &amp;Me::hungury;</span><br><span class="line"><span class="built_in">void</span> (Me::*funchungury_QString)(QString) = &amp;Me::hungury;</span><br><span class="line"><span class="comment">//槽</span></span><br><span class="line"><span class="built_in">void</span> (Me::*funceat)() = &amp;Me::eat;</span><br><span class="line"><span class="built_in">void</span> (Me::*funceat_QString)(QString) = &amp;Me::eat;</span><br><span class="line"><span class="comment">//有参连接</span></span><br><span class="line"><span class="built_in">connect</span>(me,funchungury_QString,me,funceat_QString);</span><br><span class="line"><span class="comment">//无参连接</span></span><br><span class="line"><span class="built_in">connect</span>(me,funchungury,me,funceat);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>二，通过Qt提供的重载类(QOverload)解决</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//有参连接</span></span><br><span class="line"><span class="built_in">connect</span>(<span class="keyword">this</span>,QOverload&lt;QString&gt;::<span class="built_in">of</span>(&amp;MyButton::hungury),<span class="keyword">this</span>,QOverload&lt;QString&gt;::<span class="built_in">of</span>(&amp;MyButton::eat));</span><br><span class="line"><span class="comment">//无参连接</span></span><br><span class="line"><span class="built_in">connect</span>(<span class="keyword">this</span>,QOverload&lt;&gt;::<span class="built_in">of</span>(&amp;MyButton::hungury),<span class="keyword">this</span>,QOverload&lt;&gt;::<span class="built_in">of</span>(&amp;MyButton::eat));</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>总结</strong></p>
<ul>
<li>Qt4的信号槽连接方式因为使用了宏函数, 宏函数对用户传递的信号槽不会做错误检测, 容易出bug</li>
<li>Qt5的信号槽连接方式, 传递的是信号槽函数的地址, 编译器会做错误检测, 减少了bug的产生</li>
<li>当信号槽函数被重载之后, Qt4的信号槽连接方式不受影响</li>
<li>当信号槽函数被重载之后, Qt5中需要给被重载的信号或者槽定义函数指针</li>
</ul>
</li>
</ul>
<h3 id="4-3-Lambda表达式"><a href="#4-3-Lambda表达式" class="headerlink" title="4.3 Lambda表达式"></a>4.3 Lambda表达式</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">QPushButton*btn = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;touch me&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line">QPushButton*btn2 = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;天王盖地虎&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line">btn2-&gt;<span class="built_in">move</span>(<span class="number">100</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//禁止用&amp;引用捕获临时变量，因为函数结束变量会销毁，在lambda中使用会产生错误</span></span><br><span class="line"><span class="comment">//应该使用按值捕获 = </span></span><br><span class="line"><span class="built_in">connect</span>(btn,&amp;QPushButton::clicked,<span class="keyword">this</span>,[=]()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">static</span>  <span class="type">int</span> flag = <span class="literal">false</span>;	<span class="comment">//可以这样用</span></span><br><span class="line">    <span class="keyword">if</span>(!flag)</span><br><span class="line">    &#123;</span><br><span class="line">        btn2-&gt;<span class="built_in">setText</span>(<span class="string">&quot;小鸡顿蘑菇&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        btn2-&gt;<span class="built_in">setText</span>(<span class="string">&quot;天王盖地虎&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    flag = !flag;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>Lambda表达式是C++11最重要也是最常用的特性之一，是现代编程语言的一个特点，简洁，提高了代码的效率并且可以使程序更加灵活，Qt是完全支持c++语法的， 因此在Qt中也可以使用Lambda表达式。</p>
<p>Lambda表达式就是一个匿名函数， 语法格式如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[capture](params) opt -&gt; ret &#123;body;&#125;;</span><br><span class="line">	- capture: 捕获列表</span><br><span class="line">    - params: 参数列表</span><br><span class="line">    - opt: 函数选项</span><br><span class="line">    - ret: 返回值类型</span><br><span class="line">    - body: 函数体</span><br><span class="line">        </span><br><span class="line"><span class="comment">// 示例代码-&gt;匿名函数的调用:</span></span><br><span class="line"><span class="type">int</span> ret = [](<span class="type">int</span> a) -&gt; <span class="type">int</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> a+<span class="number">1</span>;</span><br><span class="line">&#125;(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>关于Lambda表达式的细节介绍:</p>
<ol>
<li>捕获列表: 捕获一定范围内的变量<ul>
<li><code>[] </code>- 不捕捉任何变量</li>
<li><code>[&amp;] </code>- 捕获外部作用域中所有变量, 并作为引用在函数体内使用 (<code>按引用捕获</code>)</li>
<li><code>[=] </code>-  捕获外部作用域中所有变量, 并作为副本在函数体内使用 (<code>按值捕获</code>)<ul>
<li>拷贝的副本在匿名函数体内部是只读的</li>
</ul>
</li>
<li><code>[=, &amp;foo]</code> - 按值捕获外部作用域中所有变量, 并按照引用捕获外部变量 foo</li>
<li><code>[bar]</code> - 按值捕获 bar 变量, 同时不捕获其他变量</li>
<li><code>[&amp;bar]</code> - 按值捕获 bar 变量, 同时不捕获其他变量</li>
<li><code>[this]</code> - 捕获当前类中的this指针<ul>
<li>让lambda表达式拥有和当前类成员函数同样的访问权限</li>
<li>如果已经使用了 &amp; 或者 &#x3D;, 默认添加此选项</li>
</ul>
</li>
</ul>
</li>
<li>参数列表: 和普通函数的参数列表一样</li>
<li>opt 选项 –&gt;  <code>可以省略</code><ul>
<li>mutable: 可以修改按值传递进来的拷贝（注意是能修改拷贝，而不是值本身）</li>
<li>exception: 指定函数抛出的异常，如抛出整数类型的异常，可以使用throw();</li>
</ul>
</li>
<li>返回值类型:<ul>
<li>标识函数返回值的类型，当返回值为void，或者函数体中只有一处return的地方（此时编译器可以自动推断出返回值类型）时，这部分可以省略</li>
</ul>
</li>
<li>函数体:<ul>
<li>函数的实现，这部分不能省略，但函数体可以为空。</li>
</ul>
</li>
</ol>
<h1 id="QWidget槽函数"><a href="#QWidget槽函数" class="headerlink" title="QWidget槽函数"></a>QWidget槽函数</h1><p><strong>show,hide,setVisible,setHidden,close 小结</strong></p>
<ul>
<li>0，在Qt中如果一定要自己释放对象，官方推荐使用<code>[slot] void QObject::deleteLater()</code>来释放对象</li>
<li>1，<code>[slot] void setVisible(bool visible)</code> 设置Widget可见或不可见</li>
<li>2，<code>slot] void QWidget::setHidden(bool *hidden*)</code> 1号的马甲</li>
<li>3，<code>[slot] void QWidget::show()</code> 1号的马甲</li>
<li>4，<code>[slot] void QWidget::hide()</code>  1号的马甲</li>
<li>5，<code>[slot] bool QWidget::close()</code> 看情况调用4号或者0号(该部件是否有父部件)</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">呵呵，<span class="built_in">show</span>()、<span class="built_in">hide</span>()、<span class="built_in">setVisible</span>()、<span class="built_in">setHidden</span>() 这<span class="number">4</span>个函数让人看得眼花缭乱。怎么办？</span><br><span class="line">看看代码吧：</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">setVisible</span><span class="params">(<span class="type">bool</span> visible)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">setHidden</span><span class="params">(<span class="type">bool</span> hidden)</span> </span>&#123; <span class="built_in">setVisible</span>(!hidden); &#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123; <span class="built_in">setVisible</span>(<span class="literal">true</span>); &#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">hide</span><span class="params">()</span> </span>&#123; <span class="built_in">setVisible</span>(<span class="literal">false</span>); &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>代码很清楚：这四个东西之中，只有 setVisible 是独立的，其他三个都是它的马甲！<br>setVisible 的作用是什么呢？顾名思义，使得一个Widget可见或不可见。<br><strong>要点</strong>：不可见，是Widget不在界面上显示，但不代表对象被析构！</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//[1]创建关闭自己的按钮</span></span><br><span class="line">QPushButton* closeBtn = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;closeSelf&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line"><span class="built_in">connect</span>(closeBtn,&amp;QPushButton::clicked,<span class="keyword">this</span>,&amp;Widget::close);</span><br><span class="line"><span class="comment">//点击右上角关闭按钮会销毁窗口</span></span><br><span class="line"><span class="built_in">connect</span>(<span class="keyword">this</span>,&amp;QObject::destroyed,<span class="keyword">this</span>,[]()&#123;<span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;this destroyed&quot;</span>;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//[2]创建子窗口</span></span><br><span class="line">QWidget* subWidget = <span class="keyword">new</span> QWidget;</span><br><span class="line">subWidget-&gt;<span class="built_in">setWindowTitle</span>(<span class="string">&quot;subWidget&quot;</span>);</span><br><span class="line">subWidget-&gt;<span class="built_in">show</span>();</span><br><span class="line"><span class="comment">//subWidget-&gt;setAttribute(Qt::WidgetAttribute::WA_DeleteOnClose);   //点击关闭按钮时销毁窗口        </span></span><br><span class="line"><span class="built_in">connect</span>(subWidget,&amp;QWidget::destroyed,<span class="keyword">this</span>,[=]()&#123;<span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;subWidget destroyed&quot;</span>;&#125;);</span><br><span class="line"><span class="comment">//[3]创建关闭子窗口的按钮</span></span><br><span class="line">QPushButton*closeSubWidgetBtn = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;closeSubWidget&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line">closeSubWidgetBtn-&gt;<span class="built_in">move</span>(<span class="number">100</span>,<span class="number">0</span>);</span><br><span class="line"><span class="built_in">connect</span>(closeSubWidgetBtn,&amp;QPushButton::clicked,subWidget,[=]()&#123;</span><br><span class="line">    subWidget-&gt;<span class="built_in">close</span>();</span><br><span class="line">    subWidget-&gt;<span class="built_in">deleteLater</span>();   <span class="comment">//推荐这样销毁对象</span></span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;subWidget;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//[4]创建显示子窗口的按钮</span></span><br><span class="line">QPushButton*showSubWidgetBtn = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;showSubWidget&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line">showSubWidgetBtn-&gt;<span class="built_in">move</span>(<span class="number">200</span>,<span class="number">0</span>);</span><br><span class="line"><span class="built_in">connect</span>(showSubWidgetBtn,&amp;QPushButton::clicked,subWidget,&amp;QWidget::show);             </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="坐标转换"><a href="#坐标转换" class="headerlink" title="坐标转换"></a>坐标转换</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPoint <span class="title">mapFrom</span><span class="params">(<span class="type">const</span> QWidget *parent, <span class="type">const</span> QPoint &amp;pos)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QPoint <span class="title">mapFromGlobal</span><span class="params">(<span class="type">const</span> QPoint &amp;pos)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QPoint <span class="title">mapFromParent</span><span class="params">(<span class="type">const</span> QPoint &amp;pos)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QPoint <span class="title">mapTo</span><span class="params">(<span class="type">const</span> QWidget *parent, <span class="type">const</span> QPoint &amp;pos)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QPoint <span class="title">mapToGlobal</span><span class="params">(<span class="type">const</span> QPoint &amp;pos)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">QPoint <span class="title">mapToParent</span><span class="params">(<span class="type">const</span> QPoint &amp;pos)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>这几个函数都是转换相对坐标系用的. <strong>用另一个坐标系统的坐标值, 来表达当前坐标系统中某个坐标所指向的某个点,</strong></p>
<p>记住: 一定要先确<strong>两个坐标系统</strong>再确定<strong>一个点</strong></p>
</li>
<li><p><strong>相对坐标</strong>：获取自己相对于父控件的位置 QWidget::pos()</p>
</li>
<li><p><strong>绝对坐标</strong>：将当前控件的相对位置转换为屏幕绝对位置 QWidget::mapToGlobal()</p>
</li>
<li><p><strong>绝对坐标转为相对坐标</strong>：将绝对位置对应到控件的相对位置 QWidget::mapFromGlobal()</p>
</li>
</ul>
<h2 id="设置窗口标志"><a href="#设置窗口标志" class="headerlink" title="设置窗口标志"></a>设置窗口标志</h2><ul>
<li>用Qt写一个窗口，如果继承QDialog，那窗口就只有关闭按钮，如果继承QWidget，那么就有关闭，最大化，最小化三个按钮，怎样才能让关闭按钮可用，而最大化和最小化按钮不可用呢？</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//仅仅显示关闭按钮，添加一个帮助按钮?</span></span><br><span class="line"><span class="keyword">this</span>-&gt;<span class="built_in">setWindowFlags</span>(Qt::WindowType::WindowCloseButtonHint | Qt::WindowContextHelpButtonHint);</span><br><span class="line"><span class="comment">//从窗口标志中移除帮助按钮标志</span></span><br><span class="line"><span class="keyword">this</span>-&gt;<span class="built_in">setWindowFlags</span>(<span class="built_in">windowFlags</span>() &amp; ~Qt::WindowContextHelpButtonHint);</span><br><span class="line"><span class="comment">//移除标志或单纯添加一个标志，可以用一下简单的函数	true为设置，false为移除</span></span><br><span class="line"><span class="keyword">this</span>-&gt;<span class="built_in">setWindowFlag</span>(Qt::WindowContextHelpButtonHint,<span class="literal">false</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>更多标志详见<a href="#%E9%99%84%E5%BD%95%E4%B8%80">附录一 </a></li>
</ul>
<h2 id="设置窗口状态"><a href="#设置窗口状态" class="headerlink" title="设置窗口状态"></a>设置窗口状态</h2><ul>
<li>将窗口状态设置为windowState。 窗口状态是<a href="#%E9%99%84%E5%BD%95%E4%BA%8C">附录二</a>中状态的组合。</li>
<li>如果窗口不可见(即isVisible()返回false)，窗口状态将在调用show()时生效。 对于可见窗口，更改是立即的。 例如，要在全屏模式和普通模式之间切换，请使用以下代码:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">w-&gt;<span class="built_in">setWindowState</span>(w-&gt;<span class="built_in">windowState</span>() ^ Qt::WindowFullScreen);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>为了恢复和激活最小化的窗口(同时保持其最大化和&#x2F;或全屏状态)，使用以下方法:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">w-&gt;<span class="built_in">setWindowState</span>((w-&gt;<span class="built_in">windowState</span>() &amp; ~Qt::WindowMinimized) | Qt::WindowActive);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>调用这个函数将隐藏小部件。 必须调用show()使小部件再次可见，在某些窗口系统中，Qt::WindowActive不是立即的，在某些情况下可能会被忽略。</li>
</ul>
<h2 id="设置属性"><a href="#设置属性" class="headerlink" title="设置属性"></a>设置属性</h2><ul>
<li>setAttribute用来设置小部件的属性，testAttribute查看是否设置了某种属性。</li>
</ul>
<p><strong>常用属性</strong></p>
<table>
<thead>
<tr>
<th>枚举</th>
<th>值(十进制)</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>Qt::WA_AcceptDrops</td>
<td>78</td>
<td>允许来自拖放操作的数据被拖放到小部件上(参见QWidget::setAcceptDrops())</td>
</tr>
<tr>
<td>Qt::WA_AlwaysShowToolTips</td>
<td>84</td>
<td>为非活动窗口启用工具提示</td>
</tr>
<tr>
<td>Qt::WA_CustomWhatsThis</td>
<td>47</td>
<td>表示小部件希望在“这是什么?”模式下继续正常运行。 这是由小部件的作者设置的。</td>
</tr>
<tr>
<td>Qt::WA_DeleteOnClose</td>
<td>55</td>
<td>使Qt在小部件接受关闭事件时删除该小部件</td>
</tr>
<tr>
<td>Qt::WA_MouseTracking</td>
<td>2</td>
<td>指示小部件启用了鼠标跟踪。 参见QWidget:: mouseTracking</td>
</tr>
<tr>
<td>Qt::WA_TranslucentBackground</td>
<td>120</td>
<td>指示小部件应该有一个半透明的背景，也就是说，小部件的任何非透明区域都将是半透明的，因为小部件将有一个alpha通道。 设置此标志将导致设置WA_NoSystemBackground。 在Windows上，小部件还需要设置Qt:: framesswindowhint窗口标志。 该标志由小部件的作者设置或清除。</td>
</tr>
</tbody></table>
<h1 id="Qt最常用控件"><a href="#Qt最常用控件" class="headerlink" title="Qt最常用控件"></a>Qt最常用控件</h1><p>其实用多了也就那样。</p>
<h4 id="按钮抽象基类-QAbstractButton"><a href="#按钮抽象基类-QAbstractButton" class="headerlink" title="按钮抽象基类(QAbstractButton)"></a>按钮抽象基类(QAbstractButton)</h4><h5 id="简介"><a href="#简介" class="headerlink" title="简介"></a><strong>简介</strong></h5><p>QAbstractButton类是按钮部件的抽象基类，提供了按钮所共有的功能。</p>
<p>QAbstractButton类实现了一个抽象按钮，并且让它的子类来指定如何处理用户的动作，并指定如何绘制按钮。</p>
<p>QAbstractButton提供了点击和勾选按钮。QRadioButton和QCheckBox类只提供了勾选按钮，QPushButton和QToolButton提供了点击按钮，如果需要的话，它们还可以提供切换行为。</p>
<p>任何按钮，都可以显示一个包含文本和图标的标签。</p>
<ul>
<li>setText(const QString&amp;) 设置文本</li>
<li>setIcon(const QIcon&amp;)    设置图标</li>
</ul>
<h5 id="信号与槽"><a href="#信号与槽" class="headerlink" title="信号与槽"></a><strong>信号与槽</strong></h5><p><strong>signals</strong></p>
<ul>
<li><em>clicked，pressed，released信号</em></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">QPushButton*btn = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;Touch Me&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line">btn-&gt;<span class="built_in">move</span>(<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//按钮按下释放之后会触发</span></span><br><span class="line"><span class="built_in">connect</span>(btn,&amp;QPushButton::clicked,<span class="keyword">this</span>,[]()&#123;<span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;clicked&quot;</span>;&#125;);</span><br><span class="line"><span class="comment">//按钮按下触发</span></span><br><span class="line"><span class="built_in">connect</span>(btn,&amp;QPushButton::pressed,<span class="keyword">this</span>,[]()&#123;<span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;pressed&quot;</span>;&#125;);</span><br><span class="line"><span class="comment">//按钮释放触发</span></span><br><span class="line"><span class="built_in">connect</span>(btn,&amp;QPushButton::released,<span class="keyword">this</span>,[]()&#123;<span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;released&quot;</span>;&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><em>toggled信号</em>：每当切换按钮(toggleButton)改变其状态时，就会发出此信号。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">btn-&gt;<span class="built_in">setCheckable</span>(<span class="literal">true</span>);	<span class="comment">//设置按钮可选中</span></span><br><span class="line"><span class="built_in">connect</span>(btn,&amp;QPushButton::toggled,<span class="keyword">this</span>,[=]()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;toggled&quot;</span>&lt;&lt;btn-&gt;<span class="built_in">isChecked</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>slots</strong></p>
<ul>
<li>void animateClick(int msec &#x3D; 100)  定时自动点击按钮</li>
<li>void click()  自动点击按钮</li>
<li>void setIconSize(const QSize &amp;size)  设置图标大小，较小的图标可能会设置无效</li>
<li>void setChecked(bool) 设置是否选中按钮(checkable必须被启用)</li>
<li>void toggle()  切换按钮的选中状态</li>
</ul>
<h5 id="其他函数"><a href="#其他函数" class="headerlink" title="其他函数"></a>其他函数</h5><table>
<thead>
<tr>
<th align="center">序号</th>
<th>函数&amp;描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >int void setAutoExclusive(bool)</span><br /><span style="font-size:13px">可选中按钮是否独占， 在独占按钮组(同一父对象为同一组)中，任何时候只能选中一个按钮</span></td>
</tr>
<tr>
<td align="center">2</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setAutoRepeat(bool)</span><br /><span style="font-size:13px">如果启用，按钮按下不松开，pressed()、released()和clicked()信号会定期发出</span></td>
</tr>
<tr>
<td align="center">3</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setAutoRepeatDelay(int)</span><br /><span style="font-size:13px">如果启用了autoRepeat，那么autoRepeatDelay将定义自动重复生效前的初始延迟(以毫秒为单位)。  </span></td>
</tr>
<tr>
<td align="center">4</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setAutoRepeatInterval(int)</span><br /><span style="font-size:13px">如果启用了autoRepeat，则autoRepeatInterval定义了自动重复间隔的长度，以毫秒为单位。 </span></td>
</tr>
<tr>
<td align="center">5</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setCheckable(bool)</span><br /><span style="font-size:13px">设置按钮是否能够被选中，默认是不能被选中的</span></td>
</tr>
<tr>
<td align="center">6</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setDown(bool)</span><br /><span style="font-size:13px">设置按钮是否被按下</span></td>
</tr>
<tr>
<td align="center">7</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setIcon(const QIcon &amp;icon)</span><br /><span style="font-size:13px">设置图标</span></td>
</tr>
<tr>
<td align="center">8</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setShortcut(const QKeySequence &amp;key)</span><br /><span style="font-size:13px">设置快捷键</span></td>
</tr>
<tr>
<td align="center">9</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setText(const QString &amp;text)</span><br /><span style="font-size:13px">设置文本</span></td>
</tr>
</tbody></table>
<h4 id="1，按钮-PushButton"><a href="#1，按钮-PushButton" class="headerlink" title="1，按钮(PushButton)"></a>1，按钮(PushButton)</h4><p>最常用的控件之一，应用场景十分广泛。</p>
<h5 id="信号与槽-1"><a href="#信号与槽-1" class="headerlink" title="信号与槽"></a>信号与槽</h5><p><strong>signals</strong></p>
<p><code>Inherits:QAbstractButton 继承自父类</code></p>
<p><strong>slots</strong></p>
<p><code>void showMenu()	如果有菜单，弹出菜单，否则啥也不做(这个槽貌似没啥用)</code></p>
<h5 id="常用函数-1"><a href="#常用函数-1" class="headerlink" title="常用函数"></a>常用函数</h5><table>
<thead>
<tr>
<th align="center">序号</th>
<th>函数&amp;描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >int void setAutoDefault(bool)</span><br /><span style="font-size:13px">设为自动默认按钮，按下Enter键时会自动按下按钮</span></td>
</tr>
<tr>
<td align="center">2</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setDefault(bool)</span><br /><span style="font-size:13px">设为自动默认按钮，按下Enter键时会自动按下按钮</span></td>
</tr>
<tr>
<td align="center">3</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setFlat(bool)</span><br /><span style="font-size:13px">去掉按钮的边框，让PushButton按钮跟背景色融为一体，在点击按钮时，会出现原来按钮背景。  </span></td>
</tr>
<tr>
<td align="center">4</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setMenu(QMenu *menu)</span><br /><span style="font-size:13px">设置菜单。 这将把按钮变成一个菜单按钮，在某些样式中，它将在按钮文本的右侧产生一个小三角形。  </span></td>
</tr>
</tbody></table>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">QMenu* menu = <span class="keyword">new</span> <span class="built_in">QMenu</span>(<span class="string">&quot;Menu&quot;</span>);</span><br><span class="line">menu-&gt;<span class="built_in">addAction</span>(<span class="string">&quot;大家好&quot;</span>);</span><br><span class="line">menu-&gt;<span class="built_in">addAction</span>(<span class="string">&quot;我是顽石老师&quot;</span>);</span><br><span class="line"></span><br><span class="line">btn-&gt;<span class="built_in">setMenu</span>(menu);</span><br><span class="line"><span class="built_in">connect</span>(menu,&amp;QMenu::triggered,<span class="keyword">this</span>,[=](QAction*act)</span><br><span class="line">&#123;</span><br><span class="line">    btn-&gt;<span class="built_in">setText</span>(act-&gt;<span class="built_in">text</span>());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="F:/C++/QT%20%E9%A1%BD%E7%9F%B3/06%20%E6%9C%80%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6/assets/btn_0.gif"></p>
<h4 id="2，工具按钮-ToolButton"><a href="#2，工具按钮-ToolButton" class="headerlink" title="2，工具按钮(ToolButton)"></a>2，工具按钮(ToolButton)</h4><p>QToolButton是一个特殊的Button, 提供快速访问特定的命令或选项。与普通命令按钮不同, QToolButton通常不显示文本标签, 而是显示图标。一般用在toolBar上</p>
<h5 id="信号与槽-2"><a href="#信号与槽-2" class="headerlink" title="信号与槽"></a>信号与槽</h5><p><strong>signals</strong></p>
<p><code>Inherits:QAbstractButton 继承自父类</code></p>
<p><code>void triggered(QAction *action) 按钮绑定的菜单动作被触发 </code> </p>
<p><strong>slots</strong></p>
<p><code>void setDefaultAction(QAction *action)	如果有菜单，弹出菜单，否则啥也不做(这个槽貌似没啥用)</code></p>
<p><code>void setToolButtonStyle(Qt::ToolButtonStyle style) 设置工具按钮是否仅显示图标、仅显示文本，还是图标旁边/下面的文本。 </code></p>
<p><code>void showMenu()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">QToolButton*toolbtn = <span class="keyword">new</span> <span class="built_in">QToolButton</span>(<span class="keyword">this</span>);</span><br><span class="line">toolbtn-&gt;<span class="built_in">move</span>(<span class="number">200</span>,<span class="number">100</span>);</span><br><span class="line">toolbtn-&gt;<span class="built_in">setText</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="comment">//设置图标</span></span><br><span class="line">toolbtn-&gt;<span class="built_in">setIcon</span>(<span class="built_in">style</span>()-&gt;<span class="built_in">standardIcon</span></span><br><span class="line">                 (QStyle::StandardPixmap::SP_FileIcon));</span><br><span class="line"><span class="comment">//设置文字显示位置</span></span><br><span class="line">toolbtn-&gt;<span class="built_in">setToolButtonStyle</span></span><br><span class="line">    (Qt::ToolButtonStyle::ToolButtonTextUnderIcon);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="F:/C++/QT%20%E9%A1%BD%E7%9F%B3/06%20%E6%9C%80%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6/assets/image-20210814134543856.png" alt="image-20210814134543856"></p>
<h5 id="常用函数-2"><a href="#常用函数-2" class="headerlink" title="常用函数"></a>常用函数</h5><table>
<thead>
<tr>
<th align="center">序号</th>
<th>函数&amp;描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >int void setArrowType(Qt::ArrowType type)</span><br /><img src="/assets/image-20210814134847896.png" alt="image-20210814134847896"><span style="font-size:13px">此属性用于保存按钮是否显示箭头而不是普通图标</span></td>
</tr>
<tr>
<td align="center">2</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setAutoRaise(bool enable)</span><br /><img src="assets/btn_1.gif" style="zoom: 67%;" /><span style="font-size:13px">去掉边框和背景，鼠标在按钮上面时，显示选中效果，按下时有下沉效果</span></td>
</tr>
<tr>
<td align="center">3</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setMenu(QMenu *menu)</span><br /><span style="font-size:13px">设置弹出菜单  </span></td>
</tr>
<tr>
<td align="center">4</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setPopupMode(QToolButton::ToolbuttonPopupMode mode)</span><br /><span style="font-size:13px">描述如何将弹出菜单与工具按钮一起使用，默认设置为DelayedPopup </span></td>
</tr>
</tbody></table>
<h6 id="弹出菜单"><a href="#弹出菜单" class="headerlink" title="弹出菜单"></a>弹出菜单</h6><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">QMenu*menu = <span class="keyword">new</span> QMenu;</span><br><span class="line">menu-&gt;<span class="built_in">addAction</span>(<span class="string">&quot;C语言&quot;</span>);</span><br><span class="line">menu-&gt;<span class="built_in">addAction</span>(<span class="string">&quot;C++&quot;</span>);</span><br><span class="line"></span><br><span class="line">toolbtn-&gt;<span class="built_in">setMenu</span>(menu);</span><br><span class="line"><span class="comment">//设置弹出模式，DelayedPopup延时弹出 MenuButtonPopup在右侧显示一个箭头  InstantPopup立即弹出</span></span><br><span class="line">toolbtn-&gt;<span class="built_in">setPopupMode</span>(QToolButton::DelayedPopup);</span><br><span class="line"><span class="comment">//设置按钮菜单之后，右下角有一个小箭头，去掉箭头</span></span><br><span class="line">toolbtn-&gt;<span class="built_in">setStyleSheet</span>(<span class="string">&quot;QToolButton::menu-indicator &#123;image: none;&#125;&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="3，单选按钮-RadioButton"><a href="#3，单选按钮-RadioButton" class="headerlink" title="3，单选按钮(RadioButton)"></a>3，单选按钮(RadioButton)</h4><p>QRadioButton部件提供了一个带有文本标签的单选按钮。</p>
<p>QRadioButton是一个可以切换选中（checked）或未选中（unchecked）状态的选项按钮。单选框通常呈现给用户一个“多选一”的选择。也就是说，在一组单选框中，一次只能选中一个单选框。</p>
<h5 id="信号与槽-3"><a href="#信号与槽-3" class="headerlink" title="信号与槽"></a>信号与槽</h5><p><strong>signals</strong></p>
<p><code>Inherits:QAbstractButton 继承自父类</code></p>
<p><strong>slots</strong></p>
<p><code>Inherits:QAbstractButton 继承自父类</code></p>
<h5 id="常用函数-3"><a href="#常用函数-3" class="headerlink" title="常用函数"></a>常用函数</h5><table>
<thead>
<tr>
<th align="center">序号</th>
<th>函数&amp;描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setCheckState(Qt::CheckState state)</span><br /><span style="font-size:13px"> 将复选框的复选状态设置为state。 如果不需要三状态支持，还可以使用QAbstractButton::setChecked()，它接受布尔值。   </span></td>
</tr>
<tr>
<td align="center">2</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setTristate(bool)</span><br /><span style="font-size:13px">该属性保存复选框是否是三状态复选框，默认为false，即复选框只有两个状态</span></td>
</tr>
</tbody></table>
<h5 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h5><ul>
<li>同一组(同一父对象)的单选按钮一次只能选中一个</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">QRadioButton*radiobtn = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;男&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line">QRadioButton*radiobtn1 = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;女&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line"><span class="comment">//设置默认选中</span></span><br><span class="line">radiobtn-&gt;<span class="built_in">setChecked</span>(<span class="literal">true</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="F:/C++/QT%20%E9%A1%BD%E7%9F%B3/06%20%E6%9C%80%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6/assets/btn_2.gif"></p>
<ul>
<li>同一组同时选中多个</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">QGroupBox* exampleGroup = <span class="keyword">new</span> <span class="built_in">QGroupBox</span>(<span class="string">&quot;esample&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line">QLabel*label = <span class="keyword">new</span> <span class="built_in">QLabel</span>(<span class="string">&quot;你喜欢以下哪些宠物？&quot;</span>);</span><br><span class="line">exampleGroup-&gt;<span class="built_in">move</span>(<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line">QRadioButton *dogbtn =  <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;狗&quot;</span>);</span><br><span class="line">QRadioButton *catbtn =  <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;猫&quot;</span>);</span><br><span class="line">QRadioButton *snakebtn =  <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;蛇&quot;</span>);</span><br><span class="line">QRadioButton *pigbtn =  <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;猪&quot;</span>);</span><br><span class="line"></span><br><span class="line">dogbtn-&gt;<span class="built_in">setAutoExclusive</span>(<span class="literal">false</span>);</span><br><span class="line">catbtn-&gt;<span class="built_in">setAutoExclusive</span>(<span class="literal">false</span>);</span><br><span class="line">snakebtn-&gt;<span class="built_in">setAutoExclusive</span>(<span class="literal">false</span>);</span><br><span class="line">pigbtn-&gt;<span class="built_in">setAutoExclusive</span>(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">QVBoxLayout* layout = <span class="keyword">new</span> QVBoxLayout;</span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(label);</span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(dogbtn);</span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(catbtn);</span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(snakebtn);</span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(pigbtn);</span><br><span class="line"></span><br><span class="line">exampleGroup-&gt;<span class="built_in">setLayout</span>(layout);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="F:/C++/QT%20%E9%A1%BD%E7%9F%B3/06%20%E6%9C%80%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6/assets/btn_4.gif"></p>
<ul>
<li>不同组的单选按钮可以同时选中</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">QGroupBox* sexGroup = <span class="keyword">new</span> <span class="built_in">QGroupBox</span>(<span class="string">&quot;性别&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line">QGroupBox* viewpointGroup = <span class="keyword">new</span> <span class="built_in">QGroupBox</span>(<span class="string">&quot;观点&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line">sexGroup-&gt;<span class="built_in">move</span>(<span class="number">200</span>,<span class="number">300</span>);</span><br><span class="line">viewpointGroup-&gt;<span class="built_in">move</span>(<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line"></span><br><span class="line">QRadioButton*radiobtn = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;男&quot;</span>,sexGroup);</span><br><span class="line">QRadioButton*radiobtn1 = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;女&quot;</span>,sexGroup);</span><br><span class="line"></span><br><span class="line">QRadioButton*radiobtn2 = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;好&quot;</span>,viewpointGroup);</span><br><span class="line">QRadioButton*radiobtn3 = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;坏&quot;</span>,viewpointGroup);</span><br><span class="line"></span><br><span class="line">QHBoxLayout* sexLayout = <span class="keyword">new</span> QHBoxLayout;</span><br><span class="line">sexLayout-&gt;<span class="built_in">addWidget</span>(radiobtn);</span><br><span class="line">sexLayout-&gt;<span class="built_in">addWidget</span>(radiobtn1);</span><br><span class="line"></span><br><span class="line">QHBoxLayout* viewpointLayout = <span class="keyword">new</span> QHBoxLayout;</span><br><span class="line">viewpointLayout-&gt;<span class="built_in">addWidget</span>(radiobtn2);</span><br><span class="line">viewpointLayout-&gt;<span class="built_in">addWidget</span>(radiobtn3);</span><br><span class="line"></span><br><span class="line">sexGroup-&gt;<span class="built_in">setLayout</span>(sexLayout);</span><br><span class="line">viewpointGroup-&gt;<span class="built_in">setLayout</span>(viewpointLayout);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="F:/C++/QT%20%E9%A1%BD%E7%9F%B3/06%20%E6%9C%80%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6/assets/btn_3.gif"></p>
<h4 id="4，复选框-CheckBox"><a href="#4，复选框-CheckBox" class="headerlink" title="4，复选框(CheckBox)"></a>4，复选框(CheckBox)</h4><p>QCheckBox提供了一个带文本标签的复选框。</p>
<p>QCheckBox（复选框）和QRadioButton（单选框）都是选项按钮。这是因为它们都可以在开（选中）或者关（未选中）之间切换。区别是对用户选择的限制：单选框定义了“多选一”的选择，而复选框提供的是“多选多”的选择。</p>
<p>尽管在技术上可以通过复选框来实现单选框的行为，反之亦然，但还是强烈建议使用众所周知的约定。</p>
<h5 id="信号与槽-4"><a href="#信号与槽-4" class="headerlink" title="信号与槽"></a>信号与槽</h5><p><strong>signals</strong></p>
<p><code>Inherits:QAbstractButton 继承自父类 </code></p>
<p><code>void stateChanged(int state)</code> 当复选框的状态发生变化时，即当用户选中或取消选中它时，就会发出这个信号。  </p>
<p><strong>slots</strong></p>
<p><code>Inherits:QAbstractButton 继承自父类</code></p>
<h5 id="使用方法-1"><a href="#使用方法-1" class="headerlink" title="使用方法"></a>使用方法</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">QGroupBox* exampleGroup = <span class="keyword">new</span> <span class="built_in">QGroupBox</span>(<span class="keyword">this</span>);</span><br><span class="line">exampleGroup-&gt;<span class="built_in">move</span>(<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line"></span><br><span class="line">QLabel*label = <span class="keyword">new</span> <span class="built_in">QLabel</span>(<span class="string">&quot;你喜欢以下哪些宠物？&quot;</span>);</span><br><span class="line">QCheckBox *dogbtn =  <span class="keyword">new</span> <span class="built_in">QCheckBox</span>(<span class="string">&quot;狗&quot;</span>);</span><br><span class="line">QCheckBox *catbtn =  <span class="keyword">new</span> <span class="built_in">QCheckBox</span>(<span class="string">&quot;猫&quot;</span>);</span><br><span class="line">QCheckBox *snakebtn =  <span class="keyword">new</span> <span class="built_in">QCheckBox</span>(<span class="string">&quot;蛇&quot;</span>);</span><br><span class="line">QCheckBox *pigbtn =  <span class="keyword">new</span> <span class="built_in">QCheckBox</span>(<span class="string">&quot;猪&quot;</span>);</span><br><span class="line"></span><br><span class="line">QVBoxLayout* layout = <span class="keyword">new</span> QVBoxLayout;</span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(label);</span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(dogbtn);</span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(catbtn);</span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(snakebtn);</span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(pigbtn);</span><br><span class="line"></span><br><span class="line">exampleGroup-&gt;<span class="built_in">setLayout</span>(layout);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="F:/C++/QT%20%E9%A1%BD%E7%9F%B3/06%20%E6%9C%80%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6/assets/btn_5.gif"></p>
<h4 id="5，行编辑器-LineEdit"><a href="#5，行编辑器-LineEdit" class="headerlink" title="5，行编辑器(LineEdit)"></a>5，行编辑器(LineEdit)</h4><h5 id="信号与槽-5"><a href="#信号与槽-5" class="headerlink" title="信号与槽"></a>信号与槽</h5><p><strong>signals</strong></p>
<p><code>Inherits:QAbstractButton 继承自父类</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span>					<span class="comment">//清除行编辑的内容</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">copy</span><span class="params">()</span> <span class="type">const</span>				<span class="comment">//将选中的文本复制到剪贴板(如果有的话)，并且echoMode()是Normal</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">cut</span><span class="params">()</span>						<span class="comment">//剪切</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">paste</span><span class="params">()</span>					<span class="comment">//粘贴</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">redo</span><span class="params">()</span>						<span class="comment">//撤销</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">selectAll</span><span class="params">()</span>				<span class="comment">//选中所有</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setText</span><span class="params">(<span class="type">const</span> QString &amp;)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">undo</span><span class="params">()</span>						<span class="comment">//反撤销</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<p><strong>slots</strong></p>
<p><code>void showMenu()	如果有菜单，弹出菜单，否则啥也不做(这个槽貌似没啥用)</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这个信号在光标移动时发出。前一个位置由oldPos给出，新位置由newPos给出</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">cursorPositionChanged</span><span class="params">(<span class="type">int</span> oldPos, <span class="type">int</span> newPos)</span></span></span><br><span class="line"><span class="function"><span class="comment">//编辑完成，按下Return或Enter键或行编辑失去焦点时将发出此信号</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">editingFinished</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="comment">//当用户按下一个不被认为是可接受输入的键时，就会发出这个信号。 例如，如果一个按键导致验证器的validate()调用返回Invalid。 另一种情况是试图输入超过行编辑的最大长度的字符。    </span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">inputRejected</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="comment">//编不编辑，当按下Return或Enter键时都发出此信号，失去焦点不会发</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">returnPressed</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="comment">//这个信号在选择改变时发出  </span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">selectionChanged</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="comment">//每当文本发生变化时，就会发出这个信号。与texttedited()不同，调用setText()改变文本，此信号也会发出。  </span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">textChanged</span><span class="params">(<span class="type">const</span> QString &amp;text)</span></span></span><br><span class="line"><span class="function"><span class="comment">//只要文本被编辑，就会发出这个信号。     </span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">textEdited</span><span class="params">(<span class="type">const</span> QString &amp;text)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<h5 id="设置显示模式"><a href="#设置显示模式" class="headerlink" title="设置显示模式"></a>设置显示模式</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">edit-&gt;<span class="built_in">setEchoMode</span>(QLineEdit::EchoMode::Password);</span><br><span class="line">QLineEdit::Normal				<span class="comment">//显示输入的字符，这是默认值。  </span></span><br><span class="line">QLineEdit::NoEcho				<span class="comment">//不要显示任何东西</span></span><br><span class="line">QLineEdit::Password				<span class="comment">//显示与平台相关的密码掩码字符，而不是实际输入的字符。  </span></span><br><span class="line">QLineEdit::PasswordEchoOnEdit	<span class="comment">//在编辑时显示已输入的字符，完成显示掩码字符</span></span><br><span class="line">    </span><br><span class="line">edit-&gt;<span class="built_in">setClearButtonEnabled</span>(<span class="literal">true</span>);	<span class="comment">//启用清除按钮</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="F:/C++/QT%20%E9%A1%BD%E7%9F%B3/06%20%E6%9C%80%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6/assets/lineedit_1.gif"></p>
<h5 id="设置输入掩码"><a href="#设置输入掩码" class="headerlink" title="设置输入掩码"></a>设置输入掩码</h5><table>
<thead>
<tr>
<th>掩码字符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>ASCII字母字符是必须的，A-Z，a-z</td>
</tr>
<tr>
<td>a</td>
<td>ASCII 字母字符是允许的但不是必须的</td>
</tr>
<tr>
<td>N</td>
<td>ASCII字母字符是必须的，A-Z，a-z， 0-9</td>
</tr>
<tr>
<td>n</td>
<td>ASCII 字母字符是允许的但不是必须的</td>
</tr>
<tr>
<td>X</td>
<td>任何字符都可以，是必须需要的</td>
</tr>
<tr>
<td>x</td>
<td>任何字符都允许的，但不是必须需要的</td>
</tr>
<tr>
<td>9</td>
<td>ASCII 数字是必须要的，0-9</td>
</tr>
<tr>
<td>0</td>
<td>ASCII 数字是允许的，但不是必须要的</td>
</tr>
<tr>
<td>D</td>
<td>ASCII  数字是必须要的，1-9</td>
</tr>
<tr>
<td>d</td>
<td>ASCII 数字是允许的，但不是必须要的</td>
</tr>
<tr>
<td>#</td>
<td>ASCII 数字是或加减符号允许的，但不是必须要的</td>
</tr>
<tr>
<td>H</td>
<td>十六进制数据字符是必须要的，A-F, a-f, 0-9</td>
</tr>
<tr>
<td>h</td>
<td>十六进制数据字符是允许的，但不是必须要的</td>
</tr>
<tr>
<td>B</td>
<td>二进制数据字符是必须要的，0-1</td>
</tr>
<tr>
<td>b</td>
<td>二进制数据字符是允许的，但不是必须要的</td>
</tr>
<tr>
<td>&gt;</td>
<td>所有的字符字母都都大写的</td>
</tr>
<tr>
<td>&lt;</td>
<td>所有的字符字幕都是小写的</td>
</tr>
<tr>
<td>!</td>
<td>关闭大小写</td>
</tr>
<tr>
<td>;c</td>
<td>终止输入掩码并将空白字符设置为c</td>
</tr>
<tr>
<td>\</td>
<td>使用 <code>\</code> 去转义上面的字符，如果再需要显示上述字符的时候</td>
</tr>
</tbody></table>
<ul>
<li>输入日期</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">edit-&gt;<span class="built_in">setText</span>(QDate::<span class="built_in">currentDate</span>().<span class="built_in">toString</span>(<span class="string">&quot;yyyy-MM-dd&quot;</span>));</span><br><span class="line">edit-&gt;<span class="built_in">setInputMask</span>(<span class="string">&quot;9999-99-99&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>输入秘钥</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">edit-&gt;<span class="built_in">setInputMask</span>(<span class="string">&quot;&gt;AAAAA-AAAAA-AAAAA-AAAAA-AAAAA&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="设置验证器"><a href="#设置验证器" class="headerlink" title="设置验证器"></a>设置验证器</h5><ul>
<li>只能输入整数</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">edit-&gt;<span class="built_in">setValidator</span>(<span class="keyword">new</span> <span class="built_in">QIntValidator</span>(<span class="number">-90</span>,<span class="number">90</span>,<span class="keyword">this</span>));</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>只能输入浮点数，但是浮点数验证器不能限制范围，可以随便输入</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">edit-&gt;<span class="built_in">setValidator</span>(<span class="keyword">new</span> <span class="built_in">QDoubleValidator</span>(<span class="number">-90.0</span>,<span class="number">90.0</span>,<span class="number">3</span>,<span class="keyword">this</span>));</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="添加动作"><a href="#添加动作" class="headerlink" title="添加动作"></a>添加动作</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">QLineEdit::addAction</span><span class="params">(QAction *action, QLineEdit::ActionPosition position)</span></span></span><br><span class="line"><span class="function">QAction *<span class="title">QLineEdit::addAction</span><span class="params">(<span class="type">const</span> QIcon &amp;icon, QLineEdit::ActionPosition position)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">QLineEdit *edit = <span class="keyword">new</span> <span class="built_in">QLineEdit</span>(<span class="keyword">this</span>);</span><br><span class="line">edit-&gt;<span class="built_in">addAction</span>(<span class="built_in">QIcon</span>(<span class="string">&quot;://images/user.png&quot;</span>),QLineEdit::ActionPosition::LeadingPosition);</span><br><span class="line">QAction *delAct = edit-&gt;<span class="built_in">addAction</span>(<span class="built_in">QIcon</span>(<span class="string">&quot;://images/delete.png&quot;</span>),QLineEdit::ActionPosition::TrailingPosition);</span><br><span class="line"><span class="built_in">connect</span>(delAct,&amp;QAction::triggered,[]()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;delAct&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="F:/C++/QT%20%E9%A1%BD%E7%9F%B3/06%20%E6%9C%80%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6/assets/image-20210824162943231.png" alt="image-20210824162943231"></p>
<h4 id="6，标签-Label"><a href="#6，标签-Label" class="headerlink" title="6，标签(Label)"></a>6，标签(Label)</h4><p>QLabel小部件提供文本或图像显示</p>
<h6 id="信号与槽-6"><a href="#信号与槽-6" class="headerlink" title="信号与槽"></a>信号与槽</h6><p><strong>signals</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当用户点击链接时会发出此信号。</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">linkActivated</span><span class="params">(<span class="type">const</span> QString &amp;link)</span></span></span><br><span class="line"><span class="function"><span class="comment">//当用户将鼠标悬停在链接上时会发出此信号。    </span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">linkHovered</span><span class="params">(<span class="type">const</span> QString &amp;link)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<p><strong>slots</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setMovie</span><span class="params">(QMovie *movie)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setNum</span><span class="params">(<span class="type">double</span> num)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setNum</span><span class="params">(<span class="type">int</span> num)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setPicture</span><span class="params">(<span class="type">const</span> QPicture &amp;picture)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setPixmap</span><span class="params">(<span class="type">const</span> QPixmap &amp;)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setText</span><span class="params">(<span class="type">const</span> QString &amp;)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<h6 id="公有函数-2"><a href="#公有函数-2" class="headerlink" title="公有函数"></a>公有函数</h6><table>
<thead>
<tr>
<th align="center">序号</th>
<th>函数&amp;描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setAlignment(<em>Qt::Alignment</em>)</span><br /><span style="font-size:13px">设置对齐方式   </span></td>
</tr>
<tr>
<td align="center">2</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setBuddy(QWidget *<em>buddy</em>)</span><br /><span style="font-size:13px">将此标签的好友设置为buddy。当用户按下此标签指示的快捷键时，键盘焦点将转移到标签的好友小部件。伙伴机制仅适用于包含文本的 QLabel，其中一个字符以与号“&amp;”为前缀。  </span></td>
</tr>
<tr>
<td align="center">3</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setIndent(<em>int</em>)</span><br /><span style="font-size:13px">设置label的文本缩进，以像素为单位   </span></td>
</tr>
<tr>
<td align="center">4</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setMargin(<em>int</em>)</span><br /><span style="font-size:13px">设置边距     </span></td>
</tr>
<tr>
<td align="center">5</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setOpenExtrenalLinks(<em>bool open</em>)</span><br /><span style="font-size:13px">设置是否自动打开超链接   </span></td>
</tr>
<tr>
<td align="center">6</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setScaledContents(<em>bool</em>)</span><br /><span style="font-size:13px">设置内容缩放，确定标签是否将其内容缩放以填充所有可用空间。    </span></td>
</tr>
<tr>
<td align="center">7</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setSelection(<em>int start,int len</em>)</span><br /><span style="font-size:13px">设置对齐方式   </span></td>
</tr>
<tr>
<td align="center">8</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setTextFormat(<em>Qt::TextFormat</em>)</span><br /><span style="font-size:13px">设置标签文本格式   </span></td>
</tr>
<tr>
<td align="center">9</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setTextInteractionFlags(<em>Qt::TextInteractionFlags flag</em>)</span><br /><span style="font-size:13px">设置对齐方式   </span></td>
</tr>
<tr>
<td align="center">10</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setWordWrap(<em>bool on</em>)</span><br /><img src="/assets/image-20210823163631731.png" alt="image-20210823163631731"><span style="font-size:13px">设置是否在需要时自动换行   </span></td>
</tr>
</tbody></table>
<h6 id="Example"><a href="#Example" class="headerlink" title="Example:"></a>Example:</h6><ul>
<li>显示文本</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">QLabel* label = <span class="keyword">new</span> <span class="built_in">QLabel</span>(<span class="string">&quot;我是萌萌哒的小可爱&quot;</span>,<span class="keyword">this</span>);</span><br><span class="line">label-&gt;<span class="built_in">setAlignment</span>(Qt::AlignmentFlag::AlignCenter);</span><br><span class="line">label-&gt;<span class="built_in">setFixedWidth</span>(<span class="number">100</span>);  <span class="comment">//设置固定的宽度</span></span><br><span class="line">label-&gt;<span class="built_in">setWordWrap</span>(<span class="literal">true</span>);   <span class="comment">//当文本超过固定的宽度之后，自动换行</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>设置超链接：QLabel支持html文本</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">label-&gt;<span class="built_in">setText</span>(<span class="string">&quot;&lt;a href=\&quot;www.baidu.com\&quot;&gt;百度一下&lt;/a&gt;&quot;</span>);</span><br><span class="line"><span class="built_in">connect</span>(label,&amp;QLabel::linkHovered,<span class="keyword">this</span>,[=](<span class="type">const</span> QString&amp; link)&#123;<span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;linkHovered&quot;</span>&lt;&lt;link;&#125;);    </span><br><span class="line"><span class="built_in">connect</span>(label,&amp;QLabel::linkActivated,<span class="keyword">this</span>,[=](<span class="type">const</span> QString&amp; link)&#123;<span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;linkActivated&quot;</span>&lt;&lt;link;&#125;);</span><br><span class="line"><span class="comment">//设置自动打开超链接，而不是发出信号自己处理，这个设置之后会自动在浏览器打开连接</span></span><br><span class="line">label-&gt;<span class="built_in">setOpenExternalLinks</span>(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>设置伙伴</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">QLabel* nameLabel = <span class="keyword">new</span> <span class="built_in">QLabel</span>(<span class="string">&quot;&amp;Name&quot;</span>,<span class="keyword">this</span>);   </span><br><span class="line">QLineEdit * nameEdit = <span class="keyword">new</span> QLineEdit;           </span><br><span class="line">nameLabel-&gt;<span class="built_in">setBuddy</span>(nameEdit);                  </span><br><span class="line">                                                </span><br><span class="line">QLabel* phoneLabel = <span class="keyword">new</span> <span class="built_in">QLabel</span>(<span class="string">&quot;电话(&amp;P)&quot;</span>,<span class="keyword">this</span>); </span><br><span class="line">QLineEdit* phoneEdit = <span class="keyword">new</span> QLineEdit;           </span><br><span class="line">phoneLabel-&gt;<span class="built_in">setBuddy</span>(phoneEdit);                </span><br><span class="line">                                                </span><br><span class="line">QGridLayout* layout = <span class="keyword">new</span> QGridLayout;          </span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(nameLabel,<span class="number">0</span>,<span class="number">0</span>);               </span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(nameEdit,<span class="number">0</span>,<span class="number">1</span>);                </span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(phoneLabel,<span class="number">1</span>,<span class="number">0</span>);              </span><br><span class="line">layout-&gt;<span class="built_in">addWidget</span>(phoneEdit,<span class="number">1</span>,<span class="number">1</span>);               </span><br><span class="line">                                                </span><br><span class="line"><span class="built_in">setLayout</span>(layout);                              </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="F:/C++/QT%20%E9%A1%BD%E7%9F%B3/06%20%E6%9C%80%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6/assets/label_1.gif"></p>
<ul>
<li>显示图片</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">QLabel* label = <span class="keyword">new</span> <span class="built_in">QLabel</span>(<span class="keyword">this</span>);</span><br><span class="line">label-&gt;<span class="built_in">setPixmap</span>(<span class="built_in">QPixmap</span>(<span class="string">&quot;://images/label_img.jpg&quot;</span>));</span><br><span class="line"><span class="comment">//如上所示，显示的图片是固定的大小，如何让图片按我们想要的大小显示呢？</span></span><br><span class="line"><span class="comment">//1，设置Label的大小，如果有布局，会随着布局动态变化</span></span><br><span class="line">label-&gt;<span class="built_in">setFixedSize</span>(<span class="number">340</span>,<span class="number">180</span>);</span><br><span class="line"><span class="comment">//2，设置内容缩放</span></span><br><span class="line">label-&gt;<span class="built_in">setScaledContents</span>(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>显示Gif动图</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">QLabel* label = <span class="keyword">new</span> <span class="built_in">QLabel</span>(<span class="keyword">this</span>);</span><br><span class="line">QMovie *movie = <span class="keyword">new</span> <span class="built_in">QMovie</span>(<span class="string">&quot;F:/MyCode/QtCode/QtCourse/DisplayWidgets/images/label_gif.gif&quot;</span>);</span><br><span class="line">label-&gt;<span class="built_in">setMovie</span>(movie);</span><br><span class="line">movie-&gt;<span class="built_in">start</span>();</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="7，分组框-GroupBox"><a href="#7，分组框-GroupBox" class="headerlink" title="7，分组框(GroupBox)"></a>7，分组框(GroupBox)</h4><h6 id="信号与槽-7"><a href="#信号与槽-7" class="headerlink" title="信号与槽"></a>信号与槽</h6><p><strong>signals</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">clicked</span><span class="params">(<span class="type">bool</span> checked = <span class="literal">false</span>)</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">toggled</span><span class="params">(<span class="type">bool</span> on)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<p><strong>slots</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">setChecked</span><span class="params">(<span class="type">bool</span> checked)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>

<h6 id="公有函数-3"><a href="#公有函数-3" class="headerlink" title="公有函数"></a>公有函数</h6><table>
<thead>
<tr>
<th align="center">序号</th>
<th>函数&amp;描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setAlignment(<em>Qt::Alignment</em>)</span><br /><span style="font-size:13px">设置对齐方式   </span></td>
</tr>
<tr>
<td align="center">2</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setCheckAble(bool <em>checkable</em>)</span><br /><span style="font-size:13px">该分组框是否可以被选择  </span></td>
</tr>
<tr>
<td align="center">3</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setflat(bool <em>flat</em>)</span><br /><span style="font-size:13px">分组框通常由顶部有标题的包围框组成。 如果启用此属性，则大多数样式只绘制框架的顶部部分; 否则，将绘制整个框架。     </span></td>
</tr>
<tr>
<td align="center">4</td>
<td><span style = "font-size:18px;color:rgb(0,102,0)" >void setTitle(const QString&amp; <em>title</em>)</span><br /><span style="font-size:13px">设置分组框的标题   </span></td>
</tr>
</tbody></table>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">QGroupBox* groupBox = <span class="keyword">new</span> <span class="built_in">QGroupBox</span>(<span class="keyword">this</span>);</span><br><span class="line">groupBox-&gt;<span class="built_in">move</span>(<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">groupBox-&gt;<span class="built_in">resize</span>(<span class="number">320</span>,<span class="number">320</span>);</span><br><span class="line">groupBox-&gt;<span class="built_in">setTitle</span>(<span class="string">&quot;我是分组框&quot;</span>);</span><br><span class="line"><span class="comment">//groupBox-&gt;setAlignment(Qt::AlignCenter);</span></span><br><span class="line"><span class="comment">//groupBox-&gt;setFlat(true);</span></span><br><span class="line"></span><br><span class="line">groupBox-&gt;<span class="built_in">setCheckable</span>(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">connect</span>(groupBox,&amp;QGroupBox::clicked,<span class="keyword">this</span>,[]()&#123;<span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;clicked&quot;</span>;&#125;);</span><br><span class="line"><span class="built_in">connect</span>(groupBox,&amp;QGroupBox::toggled,<span class="keyword">this</span>,[]()&#123;<span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;toggled&quot;</span>;&#125;);</span><br><span class="line"></span><br><span class="line">QList&lt;QCheckBox*&gt; checkBoxs;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">    checkBoxs.<span class="built_in">push_back</span>(<span class="keyword">new</span> <span class="built_in">QCheckBox</span>(<span class="built_in">QString</span>(<span class="string">&quot;checkBox%1&quot;</span>).<span class="built_in">arg</span>(i),groupBox));</span><br><span class="line">    checkBoxs[i]-&gt;<span class="built_in">move</span>(<span class="number">10</span>,i*<span class="number">40</span>+<span class="number">20</span>);</span><br><span class="line">&#125;</span><br><span class="line">groupBox-&gt;<span class="built_in">setChecked</span>(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Designer设计师的使用"><a href="#Designer设计师的使用" class="headerlink" title="Designer设计师的使用"></a>Designer设计师的使用</h1><p>用Qt给我们提供的<code>Qt Designer</code>（界面设计师），拖拖拽拽就可以直观的创建出程序大体的界面。把这个用好了很重要，Qt实现功能可以靠AI完成的。</p>
<h3 id="1-1-创建带UI文件的项目"><a href="#1-1-创建带UI文件的项目" class="headerlink" title="1.1 创建带UI文件的项目"></a>1.1 创建带UI文件的项目</h3><ul>
<li>双击.ui文件打开设计师界面</li>
<li>设计师面板介绍<ul>
<li>组件面板：窗口左侧是界面设计组件面板，分为多个组，如Layouts、Buttons、Display Widgets等，界面设计的常见组件都可以在组件面板里找到。</li>
<li>中间主要区域是待设计的窗体。如果要将某个组件放置到窗体上时，从组件面板上拖放一个组件到窗体上即可。例如，先放一个 Label 和一个 Push Button 到窗体上。</li>
<li>Signals 和 Slots 编辑器与 Action 编辑器是位于待设计窗体下方的两个编辑器。Signals 和Slots 编辑器用于可视化地进行信号与槽的关联，Action 编辑器用于可视化设计 Action。</li>
<li>布局和界面设计工具栏：窗口上方的一个工具栏，工具栏上的按钮主要实现布局和界面设计。</li>
<li>对象浏览器（Object Inspector）：窗口右上方是 Object Inspector，用树状视图显示窗体上各组件之间的布局包含关系，视图有两列，显示每个组件的对象名称（ObjectName）和类名称。</li>
<li>属性编辑器（Property Editor）：窗口右下方是属性编辑器，是界面设计时最常用到的编辑器。属性编辑器显示某个选中的组件或窗体的各种属性及其取值，可以在属性编辑器里修改这些属性的值。</li>
</ul>
</li>
</ul>
<h3 id="1-2-UI设计器使用"><a href="#1-2-UI设计器使用" class="headerlink" title="1.2 UI设计器使用"></a>1.2 UI设计器使用</h3><h4 id="1，转到槽"><a href="#1，转到槽" class="headerlink" title="1，转到槽"></a>1，转到槽</h4><ul>
<li><p>递归搜索给定对象的所有子对象，并将来自它们的匹配信号连接到遵循以下形式的对象槽：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">void on_&lt;<span class="selector-tag">object</span> name&gt;_&lt;signal name&gt;(&lt;signal parameters&gt;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>让我们假设我们的对象有一个 QPushButton 类型的子对象，对象名为 button1。 捕捉按钮的 clicked() 信号的插槽是：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">void on_button1_clicked();</span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<p>如果对象本身具有正确设置的对象名称，则其自身的信号也连接到其各自的插槽。</p>
</li>
</ul>
<h4 id="2，自定义控件-提升为"><a href="#2，自定义控件-提升为" class="headerlink" title="2，自定义控件(提升为)"></a>2，自定义控件(提升为)</h4><h3 id="1-3-UI设计师原理"><a href="#1-3-UI设计师原理" class="headerlink" title="1.3 UI设计师原理"></a>1.3 UI设计师原理</h3><p>就算我们不编写一行程序语句，都能实现界面功能，Qt 是怎么实现的呢？</p>
<p>为了搞清楚Widget类的定义，以及界面功能的实现原理，先将项目进行编译。编译后在项目目录下会自动生成一个文件 ui_widget.h，这样对于一个窗口，就有 4 个文件了，各文件的功能说明见下表。</p>
<table>
<thead>
<tr>
<th>文件名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>widget.h</td>
<td>定义Widget类的头文件</td>
</tr>
<tr>
<td>widget.cpp</td>
<td>Widget 类的功能实现源文件</td>
</tr>
<tr>
<td>widget.ui</td>
<td>界面文件，由UI设计器自动生成，存储了窗体上各个组件的属性设置和布局</td>
</tr>
<tr>
<td>ui_widget.h</td>
<td>编译后，根据窗体上的组件及其属性、信号与槽的关联等自动生成的一个类的定义文件，类的名称是Ui_Widget</td>
</tr>
</tbody></table>
<p>下面分别分析各个文件的内容及其功能，以及它们是如何联系在一起工作，实现界面的创建与显示的。</p>
<h4 id="Widget-h"><a href="#Widget-h" class="headerlink" title="Widget.h"></a>Widget.h</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> WIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> WIDGET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWidget&gt;</span></span></span><br><span class="line"></span><br><span class="line">QT_BEGIN_NAMESPACE</span><br><span class="line"><span class="keyword">namespace</span> Ui &#123; <span class="keyword">class</span> <span class="title class_">Widget</span>; &#125;</span><br><span class="line">QT_END_NAMESPACE</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Widget</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Widget</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::Widget *ui;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// WIDGET_H</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>namespace申明</strong></p>
<p>代码中有如下的一个 namespace 声明：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Ui &#123; <span class="keyword">class</span> <span class="title class_">Widget</span>; &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这是声明了一个名为 Ui 的命名空间（namespace），包含一个类 Widget。但是这个类 Widget 并不是本文件里定义的类 Widget，而是 ui_widget.h 文件里定义的类，用于描述界面组件的。这个声明相当于一个外部类型声明（具体要看完 ui_widget.h 文件内的解释之后才能搞明白）。</p>
</li>
<li><p><strong>private指针定义</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ui::Widget *ui;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这个指针是用前面声明的 namespace Ui 里的 Widget 类定义的，所以指针 ui 是指向可视化设计的界面，后面会看到要访问界面上的组件，都需要通过这个指针 ui。</p>
</li>
</ul>
<h4 id="Widget-cpp"><a href="#Widget-cpp" class="headerlink" title="Widget.cpp"></a>Widget.cpp</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_widget.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">Widget::<span class="built_in">Widget</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">    , <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::Widget)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget::~<span class="built_in">Widget</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>注意到，在这个文件的头文件包含部分自动加入了如下一行内容</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_widget.h&quot;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这个就是 Qt 编译生成的与 UI 文件 widget.ui 对应的类定义文件。</p>
</li>
<li><p>在构造函数初始化参数列表里有这么一段代码</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ui</span>(<span class="keyword">new</span> Ui::Widget)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>其意义是：执行父类 QWidget 的构造函数，创建一个 Ui::Widget 类的对象 ui。这个 ui 就是 Widget 的 private 部分定义的指针变量 ui。</p>
</li>
<li><p>构造函数里只有一行代码</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>它是执行了 Ui::Widget 类的 setupUi() 函数，这个函数实现窗口的生成与各种属性的设置、信号与槽的关联（后面会具体介绍）。</p>
</li>
<li><p>析构函数只是简单地delete用 new 创建的指针 ui。</p>
</li>
<li><p>所以，在 ui_widget.h 文件里有一个 namespace 名称为 Ui，里面有一个类 Widget 是用于描述可视化设计的窗体，且与 widget.h 里定义的类同名。在 Widget 类里访问 Ui::Widget 类的成员变量或函数需要通过 Widget 类里的 ui 指针，如同构造函数里执行 ui-&gt;setupUi( this) 函数那样。</p>
</li>
</ul>
<h4 id="Widget-ui"><a href="#Widget-ui" class="headerlink" title="Widget.ui"></a>Widget.ui</h4><p>widget.ui 是界面定义文件，是一个 XML 文件，定义了窗口上的所有组件的属性设置、布局，及其信号与槽函数的关联等。用UI设计器可视化设计的界面都由 Qt 自动解析，并以 XML 文件的形式保存下来。在设计界面时，只需在 UI 设计器里进行可视化设计即可，而不用管 widget.ui 文件是怎么生成的。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;ui version=<span class="string">&quot;4.0&quot;</span>&gt;</span><br><span class="line"> &lt;<span class="keyword">class</span>&gt;Widget&lt;/<span class="keyword">class</span>&gt;</span><br><span class="line"> &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QWidget&quot;</span> name=<span class="string">&quot;Widget&quot;</span>&gt;</span><br><span class="line">  &lt;property name=<span class="string">&quot;geometry&quot;</span>&gt;</span><br><span class="line">   &lt;rect&gt;</span><br><span class="line">    &lt;x&gt;<span class="number">0</span>&lt;/x&gt;</span><br><span class="line">    &lt;y&gt;<span class="number">0</span>&lt;/y&gt;</span><br><span class="line">    &lt;width&gt;<span class="number">800</span>&lt;/width&gt;</span><br><span class="line">    &lt;height&gt;<span class="number">600</span>&lt;/height&gt;</span><br><span class="line">   &lt;/rect&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line">  &lt;property name=<span class="string">&quot;windowTitle&quot;</span>&gt;</span><br><span class="line">   &lt;string&gt;Widget&lt;/string&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"> &lt;/widget&gt;</span><br><span class="line"> &lt;resources/&gt;</span><br><span class="line"> &lt;connections/&gt;</span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="ui-Widget-h"><a href="#ui-Widget-h" class="headerlink" title="ui_Widget.h"></a>ui_Widget.h</h4><p>ui_widget.h 是在对 widget.ui 文件编译后生成的一个文件，ui_widget.h 会出现在编译后的目录下，或与 widget.ui 同目录（与项目的 shadow build 编译设置有关）。</p>
<p>文件 ui_widget.h 并不会出现在 Qt Creator 的项目文件目录树里，当然，可以手工将 ui_widget.h 添加到项目中。方法是在项目文件目录树上，右击项目名称节点，在调出的快捷菜单中选择“Add Existing Files…”，找到并添加 ui_widget.h 文件即可。</p>
<p>注意，ui_widget.h 是对 widget.ui 文件编译后自动生成的，widget.ui 又是通过 UI 设计器可视化设计生成的。所以，对 ui_widget.h 手工进行修改没有什么意义，所有涉及界面的修改都应该直接在UI 设计器里进行。所以，ui_widget.h 也没有必要添加到项目里。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> UI_WIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> UI_WIDGET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QtCore/QVariant&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QtWidgets/QApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QtWidgets/QWidget&gt;</span></span></span><br><span class="line"></span><br><span class="line">QT_BEGIN_NAMESPACE</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ui_Widget</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setupUi</span><span class="params">(QWidget *Widget)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (Widget-&gt;<span class="built_in">objectName</span>().<span class="built_in">isEmpty</span>())</span><br><span class="line">            Widget-&gt;<span class="built_in">setObjectName</span>(QString::<span class="built_in">fromUtf8</span>(<span class="string">&quot;Widget&quot;</span>));</span><br><span class="line">        Widget-&gt;<span class="built_in">resize</span>(<span class="number">800</span>, <span class="number">600</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">retranslateUi</span>(Widget);</span><br><span class="line"></span><br><span class="line">        QMetaObject::<span class="built_in">connectSlotsByName</span>(Widget);</span><br><span class="line">    &#125; <span class="comment">// setupUi</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">retranslateUi</span><span class="params">(QWidget *Widget)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Widget-&gt;<span class="built_in">setWindowTitle</span>(QCoreApplication::<span class="built_in">translate</span>(<span class="string">&quot;Widget&quot;</span>, <span class="string">&quot;Widget&quot;</span>, <span class="literal">nullptr</span>));</span><br><span class="line">    &#125; <span class="comment">// retranslateUi</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Widget</span>: <span class="keyword">public</span> Ui_Widget &#123;&#125;;</span><br><span class="line">&#125; <span class="comment">// namespace Ui</span></span><br><span class="line"></span><br><span class="line">QT_END_NAMESPACE</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// UI_WIDGET_H</span></span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>查看 ui_widget.h 文件的内容，发现它主要做了以下的一些工作：</p>
<ul>
<li><p>1，定义了一个类 Ui_Widget，用于封装可视化设计的界面。</p>
</li>
<li><p>2，自动生成了界面各个组件的类成员变量定义。在 public 部分为界面上每个组件定义了一个指针变量，变量的名称就是设置的 objectName。比如，在窗体上放置了一个 QLabel 和一个 QPushButton 并命名后，自动生成的定义是：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QLabel *LabDemo;</span><br><span class="line">QPushButton *btnClose;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>定义了 setupUi() 函数，这个函数用于创建各个界面组件，并设置其位置、大小、文字内容、字体等属性，设置信号与槽的关联。setupUi() 函数体的第一部分是根据可视化设计的界面内容，用 C++ 代码创建界面上各组件，并设置其属性。</p>
<p>接下来，setupUi() 调用了函数 retranslateUi(Widget)，用来设置界面各组件的文字内容属性，如标签的文字、按键的文字、窗体的标题等。将界面上的文字设置的内容独立出来作为一个函数 retranslateUi()，在设计多语言界面时会用到这个函数。</p>
<p>setupUi() 函数的第三部分是设置信号与槽的关联：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">QMetaObject::<span class="built_in">connectSlotsByName</span>(Widget);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>该代码是设置槽函数的关联方式，用于将 UI 设计器自动生成的组件信号的槽函数与组件信号相关联。</p>
<p>所以，在Widget 的构造函数里调用 ui-&gt;setupUI(this)，就实现了窗体上组件的创建、属性设置、信号与槽的关联。</p>
</li>
<li><p>定义 namespace Ui，并定义一个从Ui_Widget 继承的类Widget。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">Widget</span>: <span class="keyword">public</span> Ui_Widget &#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p>提示：ui_widget.h 文件里实现界面功能的类是 Ui_Widget。再定义一个类 Widget 从 Ui_Widget 继承而来，并定义在 namespace Ui 里，这样 Ui:: Widget 与 widget.h 里的类 Widget 同名，但是用 namespace 区分开来。所以，界面的 Ui:: Widget 类与文件 widget.h 里定义的 Widget 类实际上是两个类，但是 Qt 的处理让用户感觉不到 Ui:: Widget 类的存在，只需要知道在 Widget 类里用 ui 指针可以访问可视化设计的界面组件就可以了</p>
<h3 id="1-4-用Ui文件生成头文件"><a href="#1-4-用Ui文件生成头文件" class="headerlink" title="1.4 用Ui文件生成头文件"></a>1.4 用Ui文件生成头文件</h3><ul>
<li><p>1，打开终端，并切换工作目录到.ui文件所在的目录。</p>
</li>
<li><p>2，输入如下命令，可以看到ui_widget.h文件就生成出来了</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">uic widget<span class="selector-class">.ui</span> -o ui_widget<span class="selector-class">.h</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="1-5-使用ui-widget-h"><a href="#1-5-使用ui-widget-h" class="headerlink" title="1.5 使用ui_widget.h"></a>1.5 使用ui_widget.h</h3><p>一句话，要让ui designer设计出来的界面显示出来，只要能设法调用Ui_widget类的setupUi函数就行了。</p>
<p><strong>三步即可完成</strong></p>
<ul>
<li><p>1，前置声明</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//widget.h</span></span><br><span class="line"><span class="keyword">namespace</span> Ui </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">widget</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>2，类中定义</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//widget.h</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::widget* ui;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>3，申请内存，设置ui</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//widget.cpp</span></span><br><span class="line">Widget::<span class="built_in">Widget</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">    ,<span class="built_in">ui</span>(<span class="keyword">new</span> Ui::widget)	<span class="comment">//给ui指针分配内存</span></span><br><span class="line">&#123;</span><br><span class="line">        ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);	<span class="comment">//给当前窗口this，设置ui界面</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://zenfy0326.github.io">zenfy</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://zenfy0326.github.io/2024/06/15/Qt/">https://zenfy0326.github.io/2024/06/15/Qt/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zenfy0326.github.io" target="_blank">上世纪國男</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C/">C++</a><a class="post-meta__tags" href="/tags/Qt/">Qt</a></div><div class="post_share"><div class="social-share" data-image="https://picture.gptkong.com/20240618/16527145e5c86d419092d0637b2069c668.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/06/15/OBS/" title="OBS使用"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">OBS使用</div></div></a></div><div class="next-post pull-right"><a href="/2024/06/15/ai/" title="AI工具以及使用"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">AI工具以及使用</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://picture.gptkong.com/20240618/16527145e5c86d419092d0637b2069c668.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zenfy</div><div class="author-info__description">温水煮青蛙，一只又一只</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/zenfy0326"><i class="fab fa-github"></i><span>点个赞吧！</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zenfy0326" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:2630391423@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">团长，你就是个寄吧！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Qt-%E4%B8%8A%E4%B8%96%E7%BA%AA%E5%9C%8B%E7%94%B7"><span class="toc-number">1.</span> <span class="toc-text">Qt-上世纪國男</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Qt%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">1.Qt介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Qt-%E5%8F%AF%E4%BB%A5%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.2.</span> <span class="toc-text">Qt 可以做什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%BA%E4%BB%80%E4%B9%88%E7%94%A8Qt%EF%BC%9F"><span class="toc-number">1.3.</span> <span class="toc-text">2.为什么用Qt？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Qt-Creator"><span class="toc-number">1.4.</span> <span class="toc-text">3.Qt Creator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%B9%8B%E5%90%8E%E6%B7%BB%E5%8A%A0%E7%BB%84%E4%BB%B6"><span class="toc-number">1.5.</span> <span class="toc-text">安装之后添加组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">1.6.</span> <span class="toc-text">编码问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.7.</span> <span class="toc-text">创建项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.8.</span> <span class="toc-text">项目文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#main-cpp"><span class="toc-number">1.8.1.</span> <span class="toc-text">main.cpp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#widget-h"><span class="toc-number">1.8.2.</span> <span class="toc-text">widget.h</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#widget-cpp"><span class="toc-number">1.8.3.</span> <span class="toc-text">widget.cpp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HelloQt-pro"><span class="toc-number">1.8.4.</span> <span class="toc-text">HelloQt.pro</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">1.8.5.</span> <span class="toc-text"></span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-number">1.9.</span> <span class="toc-text">常用快捷键</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE"><span class="toc-number">1.10.</span> <span class="toc-text">主题配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%89%93%E5%BC%80VS"><span class="toc-number">1.10.1.</span> <span class="toc-text">1.打开VS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-VS%E5%AE%89%E8%A3%85Qt%E6%8F%92%E4%BB%B6"><span class="toc-number">1.10.2.</span> <span class="toc-text">2.VS安装Qt插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AE%89%E8%A3%85VSIX-%E5%8D%B3%E4%B8%8A%E9%9D%A2%E4%B8%8B%E8%BD%BD%E7%9A%84%E9%82%A3%E4%B8%AA%E6%8F%92%E4%BB%B6"><span class="toc-number">1.10.3.</span> <span class="toc-text">3.安装VSIX(即上面下载的那个插件)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%AE%BE%E7%BD%AE%E6%8F%92%E4%BB%B6"><span class="toc-number">1.10.4.</span> <span class="toc-text">4.设置插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-VS%E5%88%9B%E5%BB%BAQt%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.10.5.</span> <span class="toc-text">5.VS创建Qt项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%EF%BC%8C%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81"><span class="toc-number">1.10.6.</span> <span class="toc-text">6，中文乱码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%8C%E6%89%8B%E5%8A%A8%E4%BF%AE%E6%94%B9"><span class="toc-number">1.10.6.1.</span> <span class="toc-text">1，手动修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%8C%E8%87%AA%E5%8A%A8%E4%BF%AE%E6%94%B9"><span class="toc-number">1.10.6.2.</span> <span class="toc-text">2，自动修改</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%EF%BC%8CVs%E4%B8%AD%E4%BF%AE%E6%94%B9%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%9B%BE%E6%A0%87"><span class="toc-number">1.10.7.</span> <span class="toc-text">7，Vs中修改应用程序图标</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Qt-Creator-MSVC"><span class="toc-number">1.11.</span> <span class="toc-text">Qt Creator + MSVC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E6%96%87"><span class="toc-number">1.12.</span> <span class="toc-text">中文</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Qt%E7%94%A8%E6%88%91%E7%BB%8F%E5%B8%B8%E7%94%A8%E7%9A%84C-%E7%BC%96%E5%86%99"><span class="toc-number">2.</span> <span class="toc-text">Qt用我经常用的C++编写</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-log%E8%BE%93%E5%87%BA"><span class="toc-number">2.1.</span> <span class="toc-text">1. log输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.</span> <span class="toc-text">2. 字符串类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-QByteArray"><span class="toc-number">2.2.1.</span> <span class="toc-text">2.1 QByteArray</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-QString"><span class="toc-number">2.2.2.</span> <span class="toc-text">2.2 QString</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.3.</span> <span class="toc-text">构造函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C"><span class="toc-number">2.2.4.</span> <span class="toc-text">数据操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9F%A5%E6%89%BE%E5%92%8C%E5%88%A4%E6%96%AD"><span class="toc-number">2.2.5.</span> <span class="toc-text">子字符串查找和判断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86"><span class="toc-number">2.2.6.</span> <span class="toc-text">遍历</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%AD%97%E8%8A%82%E6%95%B0"><span class="toc-number">2.2.7.</span> <span class="toc-text">查看字节数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.2.8.</span> <span class="toc-text">类型转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">2.2.9.</span> <span class="toc-text">字符串格式化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%8D%E5%90%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.2.10.</span> <span class="toc-text">2.2 不同字符串类型相互转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-QVariant"><span class="toc-number">2.3.</span> <span class="toc-text">3. QVariant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%A0%87%E5%87%86%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.4.</span> <span class="toc-text">4. 标准类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.4.1.</span> <span class="toc-text">4.1 自定义类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E4%BD%8D%E7%BD%AE%E5%92%8C%E5%B0%BA%E5%AF%B8"><span class="toc-number">2.5.</span> <span class="toc-text">5. 位置和尺寸</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-QPoint"><span class="toc-number">2.5.1.</span> <span class="toc-text">5.1 QPoint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-QLine"><span class="toc-number">2.5.2.</span> <span class="toc-text">5.2 QLine</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-QRect"><span class="toc-number">2.5.3.</span> <span class="toc-text">5.4 QRect</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-QDate"><span class="toc-number">2.6.</span> <span class="toc-text">6. QDate</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-QTime"><span class="toc-number">2.6.1.</span> <span class="toc-text">6.1 QTime</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%8F%E6%97%B6%E8%AE%A1%E6%97%B6%E5%99%A8"><span class="toc-number">2.6.2.</span> <span class="toc-text">经时计时器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-QDateTime"><span class="toc-number">2.6.3.</span> <span class="toc-text">6.2 QDateTime</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%BC%8F%E5%AE%B9%E5%99%A8"><span class="toc-number">2.7.</span> <span class="toc-text">序列式容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QList"><span class="toc-number">2.7.1.</span> <span class="toc-text">QList</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AC%E6%9C%89%E5%87%BD%E6%95%B0"><span class="toc-number">2.7.1.1.</span> <span class="toc-text">公有函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QStringList"><span class="toc-number">2.7.2.</span> <span class="toc-text">QStringList</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QLinkedList"><span class="toc-number">2.7.3.</span> <span class="toc-text">QLinkedList</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QVector"><span class="toc-number">2.7.4.</span> <span class="toc-text">QVector</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QStack"><span class="toc-number">2.7.5.</span> <span class="toc-text">QStack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QQueue"><span class="toc-number">2.7.6.</span> <span class="toc-text">QQueue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E8%81%94%E5%BC%8F%E5%AE%B9%E5%99%A8"><span class="toc-number">2.8.</span> <span class="toc-text">关联式容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QMap"><span class="toc-number">2.8.1.</span> <span class="toc-text">QMap</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AC%E6%9C%89%E5%87%BD%E6%95%B0-1"><span class="toc-number">2.8.1.1.</span> <span class="toc-text">公有函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QMultiMap"><span class="toc-number">2.8.2.</span> <span class="toc-text">QMultiMap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QHash"><span class="toc-number">2.8.3.</span> <span class="toc-text">QHash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QMultiHash"><span class="toc-number">2.8.4.</span> <span class="toc-text">QMultiHash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QSet"><span class="toc-number">2.8.5.</span> <span class="toc-text">QSet</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%EF%BC%8C%E7%AE%97%E6%B3%95"><span class="toc-number">2.9.</span> <span class="toc-text">8，算法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QtGlobal"><span class="toc-number">2.10.</span> <span class="toc-text">QtGlobal</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QtMath"><span class="toc-number">2.11.</span> <span class="toc-text">QtMath</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">2.11.1.</span> <span class="toc-text">常用函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD"><span class="toc-number">3.</span> <span class="toc-text">信号和槽</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A7%BD%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-number">3.1.</span> <span class="toc-text">1. 槽的本质</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">3.1.1.</span> <span class="toc-text">1.1 信号和槽的关系</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%A0%87%E5%87%86%E4%BF%A1%E5%8F%B7%E6%A7%BD%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.</span> <span class="toc-text">2. 标准信号槽使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E6%A0%87%E5%87%86%E4%BF%A1%E5%8F%B7-%E6%A7%BD"><span class="toc-number">3.2.1.</span> <span class="toc-text">2.1 标准信号&#x2F;槽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.2.</span> <span class="toc-text">2.2 使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BF%A1%E5%8F%B7%E6%A7%BD%E4%BD%BF%E7%94%A8"><span class="toc-number">3.3.</span> <span class="toc-text">3. 自定义信号槽使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BF%A1%E5%8F%B7"><span class="toc-number">3.3.1.</span> <span class="toc-text">3.1 自定义信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A7%BD"><span class="toc-number">3.3.2.</span> <span class="toc-text">3.2 自定义槽</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E4%BF%A1%E5%8F%B7%E6%A7%BD%E6%8B%93%E5%B1%95"><span class="toc-number">3.4.</span> <span class="toc-text">4. 信号槽拓展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E4%BF%A1%E5%8F%B7%E6%A7%BD%E4%BD%BF%E7%94%A8%E6%8B%93%E5%B1%95"><span class="toc-number">3.4.1.</span> <span class="toc-text">4.1 信号槽使用拓展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E4%BF%A1%E5%8F%B7%E6%A7%BD%E7%9A%84%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F"><span class="toc-number">3.4.2.</span> <span class="toc-text">4.2 信号槽的连接方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.4.3.</span> <span class="toc-text">4.3 Lambda表达式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#QWidget%E6%A7%BD%E5%87%BD%E6%95%B0"><span class="toc-number">4.</span> <span class="toc-text">QWidget槽函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2"><span class="toc-number">4.1.</span> <span class="toc-text">坐标转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%AA%97%E5%8F%A3%E6%A0%87%E5%BF%97"><span class="toc-number">4.2.</span> <span class="toc-text">设置窗口标志</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%AA%97%E5%8F%A3%E7%8A%B6%E6%80%81"><span class="toc-number">4.3.</span> <span class="toc-text">设置窗口状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7"><span class="toc-number">4.4.</span> <span class="toc-text">设置属性</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Qt%E6%9C%80%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6"><span class="toc-number">5.</span> <span class="toc-text">Qt最常用控件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E9%92%AE%E6%8A%BD%E8%B1%A1%E5%9F%BA%E7%B1%BB-QAbstractButton"><span class="toc-number">5.0.0.1.</span> <span class="toc-text">按钮抽象基类(QAbstractButton)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">5.0.0.1.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD"><span class="toc-number">5.0.0.1.2.</span> <span class="toc-text">信号与槽</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0"><span class="toc-number">5.0.0.1.3.</span> <span class="toc-text">其他函数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%8C%E6%8C%89%E9%92%AE-PushButton"><span class="toc-number">5.0.0.2.</span> <span class="toc-text">1，按钮(PushButton)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD-1"><span class="toc-number">5.0.0.2.1.</span> <span class="toc-text">信号与槽</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0-1"><span class="toc-number">5.0.0.2.2.</span> <span class="toc-text">常用函数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%8C%E5%B7%A5%E5%85%B7%E6%8C%89%E9%92%AE-ToolButton"><span class="toc-number">5.0.0.3.</span> <span class="toc-text">2，工具按钮(ToolButton)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD-2"><span class="toc-number">5.0.0.3.1.</span> <span class="toc-text">信号与槽</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.0.0.3.2.</span> <span class="toc-text">常用函数</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%BC%B9%E5%87%BA%E8%8F%9C%E5%8D%95"><span class="toc-number">5.0.0.3.2.1.</span> <span class="toc-text">弹出菜单</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%8C%E5%8D%95%E9%80%89%E6%8C%89%E9%92%AE-RadioButton"><span class="toc-number">5.0.0.4.</span> <span class="toc-text">3，单选按钮(RadioButton)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD-3"><span class="toc-number">5.0.0.4.1.</span> <span class="toc-text">信号与槽</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0-3"><span class="toc-number">5.0.0.4.2.</span> <span class="toc-text">常用函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">5.0.0.4.3.</span> <span class="toc-text">使用方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%EF%BC%8C%E5%A4%8D%E9%80%89%E6%A1%86-CheckBox"><span class="toc-number">5.0.0.5.</span> <span class="toc-text">4，复选框(CheckBox)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD-4"><span class="toc-number">5.0.0.5.1.</span> <span class="toc-text">信号与槽</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-1"><span class="toc-number">5.0.0.5.2.</span> <span class="toc-text">使用方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%EF%BC%8C%E8%A1%8C%E7%BC%96%E8%BE%91%E5%99%A8-LineEdit"><span class="toc-number">5.0.0.6.</span> <span class="toc-text">5，行编辑器(LineEdit)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD-5"><span class="toc-number">5.0.0.6.1.</span> <span class="toc-text">信号与槽</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%98%BE%E7%A4%BA%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.0.0.6.2.</span> <span class="toc-text">设置显示模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E8%BE%93%E5%85%A5%E6%8E%A9%E7%A0%81"><span class="toc-number">5.0.0.6.3.</span> <span class="toc-text">设置输入掩码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E9%AA%8C%E8%AF%81%E5%99%A8"><span class="toc-number">5.0.0.6.4.</span> <span class="toc-text">设置验证器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%8A%A8%E4%BD%9C"><span class="toc-number">5.0.0.6.5.</span> <span class="toc-text">添加动作</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%EF%BC%8C%E6%A0%87%E7%AD%BE-Label"><span class="toc-number">5.0.0.7.</span> <span class="toc-text">6，标签(Label)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD-6"><span class="toc-number">5.0.0.7.0.1.</span> <span class="toc-text">信号与槽</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%85%AC%E6%9C%89%E5%87%BD%E6%95%B0-2"><span class="toc-number">5.0.0.7.0.2.</span> <span class="toc-text">公有函数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Example"><span class="toc-number">5.0.0.7.0.3.</span> <span class="toc-text">Example:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7%EF%BC%8C%E5%88%86%E7%BB%84%E6%A1%86-GroupBox"><span class="toc-number">5.0.0.8.</span> <span class="toc-text">7，分组框(GroupBox)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD-7"><span class="toc-number">5.0.0.8.0.1.</span> <span class="toc-text">信号与槽</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%85%AC%E6%9C%89%E5%87%BD%E6%95%B0-3"><span class="toc-number">5.0.0.8.0.2.</span> <span class="toc-text">公有函数</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Designer%E8%AE%BE%E8%AE%A1%E5%B8%88%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">6.</span> <span class="toc-text">Designer设计师的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%88%9B%E5%BB%BA%E5%B8%A6UI%E6%96%87%E4%BB%B6%E7%9A%84%E9%A1%B9%E7%9B%AE"><span class="toc-number">6.0.1.</span> <span class="toc-text">1.1 创建带UI文件的项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-UI%E8%AE%BE%E8%AE%A1%E5%99%A8%E4%BD%BF%E7%94%A8"><span class="toc-number">6.0.2.</span> <span class="toc-text">1.2 UI设计器使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%8C%E8%BD%AC%E5%88%B0%E6%A7%BD"><span class="toc-number">6.0.2.1.</span> <span class="toc-text">1，转到槽</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A7%E4%BB%B6-%E6%8F%90%E5%8D%87%E4%B8%BA"><span class="toc-number">6.0.2.2.</span> <span class="toc-text">2，自定义控件(提升为)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-UI%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%8E%9F%E7%90%86"><span class="toc-number">6.0.3.</span> <span class="toc-text">1.3 UI设计师原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Widget-h"><span class="toc-number">6.0.3.1.</span> <span class="toc-text">Widget.h</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Widget-cpp"><span class="toc-number">6.0.3.2.</span> <span class="toc-text">Widget.cpp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Widget-ui"><span class="toc-number">6.0.3.3.</span> <span class="toc-text">Widget.ui</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ui-Widget-h"><span class="toc-number">6.0.3.4.</span> <span class="toc-text">ui_Widget.h</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E7%94%A8Ui%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90%E5%A4%B4%E6%96%87%E4%BB%B6"><span class="toc-number">6.0.4.</span> <span class="toc-text">1.4 用Ui文件生成头文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-%E4%BD%BF%E7%94%A8ui-widget-h"><span class="toc-number">6.0.5.</span> <span class="toc-text">1.5 使用ui_widget.h</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/23/cs3/" title="cs3">cs3</a><time datetime="2024-06-23T13:19:52.000Z" title="发表于 2024-06-23 21:19:52">2024-06-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/23/Videoremover/" title="Videoremover">Videoremover</a><time datetime="2024-06-23T08:52:25.000Z" title="发表于 2024-06-23 16:52:25">2024-06-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/15/UVR5/" title="UVR5使用">UVR5使用</a><time datetime="2024-06-15T08:51:31.000Z" title="发表于 2024-06-15 16:51:31">2024-06-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/15/RX10/" title="RX10使用">RX10使用</a><time datetime="2024-06-15T08:51:20.000Z" title="发表于 2024-06-15 16:51:20">2024-06-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/15/OBS/" title="OBS使用">OBS使用</a><time datetime="2024-06-15T08:48:43.000Z" title="发表于 2024-06-15 16:48:43">2024-06-15</time></div></div></div></div></div></div></main><footer id="footer" style="background: #f5fffa"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By zenfy</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a href="icp链接"><span>备案号：18000875</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-heart.min.js" async="async" mobile="false"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>